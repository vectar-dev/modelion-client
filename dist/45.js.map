{"version":3,"sources":["webpack:///./node_modules/@ionic/core/dist/esm-es5/hardware-back-button-7b6ede21.js"],"names":["startHardwareBackButton","doc","document","busy","addEventListener","index","handlers","ev","CustomEvent","bubbles","detail","register","priority","handler","push","id","dispatchEvent","processHandlers","length","selectedHandler_1","Number","MIN_SAFE_INTEGER","forEach","filter","handlerRegister","result","e_1","this","_a","label","trys","sent","console","error","then","OVERLAY_BACK_BUTTON_PRIORITY","MENU_BACK_BUTTON_PRIORITY"],"mappings":"0FAAA,kMACIA,EAA0B,WAC1B,IAAIC,EAAMC,SACNC,GAAO,EACXF,EAAIG,iBAAiB,cAAc,WAC/B,IAAID,EAAJ,CAGA,IAAIE,EAAQ,EACRC,EAAW,GACXC,EAAK,IAAIC,YAAY,gBAAiB,CACtCC,SAAS,EACTC,OAAQ,CACJC,SAAU,SAAUC,EAAUC,GAC1BP,EAASQ,KAAK,CAAEF,SAAUA,EAAUC,QAASA,EAASE,GAAIV,UAItEJ,EAAIe,cAAcT,GAClB,IAsBIU,EAAkB,WAClB,GAAIX,EAASY,OAAS,EAAG,CACrB,IAAIC,EAAoB,CACpBP,SAAUQ,OAAOC,iBACjBR,QAAS,aACTE,IAAK,GAETT,EAASgB,SAAQ,SAAUT,GACnBA,EAAQD,UAAYO,EAAkBP,WACtCO,EAAoBN,MAG5BV,GAAO,EACPG,EAAWA,EAASiB,QAAO,SAAUV,GAAW,OAAOA,EAAQE,KAAOI,EAAkBJ,OAnClES,EAoCRL,EApCkC,iBAAU,OAAQ,OAAQ,GAAQ,WACtF,IAAIM,EAAQC,EACZ,OAAO,YAAYC,MAAM,SAAUC,GAC/B,OAAQA,EAAGC,OACP,KAAK,EAED,OADAD,EAAGE,KAAKhB,KAAK,CAAC,EAAG,EAAG,CAAE,IAChBU,GAAmBA,EAAgBX,QAEzB,OADhBY,EAASD,EAAgBX,QAAQI,IACH,CAAC,EAAa,GACrC,CAAC,EAAaQ,GAHqC,CAAC,EAAa,GAI5E,KAAK,EACDG,EAAGG,OACHH,EAAGC,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,EAAa,GAC7B,KAAK,EAGD,OAFAH,EAAME,EAAGG,OACTC,QAAQC,MAAMP,GACP,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,WAkBaQ,MAAK,WAAc,OAAO/B,GAAO,KApCtD,IAAUqB,GAuC9BP,SAGJkB,EAA+B,IAC/BC,EAA4B","file":"45.js","sourcesContent":["import { __awaiter, __generator } from \"tslib\";\nvar startHardwareBackButton = function () {\n    var doc = document;\n    var busy = false;\n    doc.addEventListener('backbutton', function () {\n        if (busy) {\n            return;\n        }\n        var index = 0;\n        var handlers = [];\n        var ev = new CustomEvent('ionBackButton', {\n            bubbles: false,\n            detail: {\n                register: function (priority, handler) {\n                    handlers.push({ priority: priority, handler: handler, id: index++ });\n                }\n            }\n        });\n        doc.dispatchEvent(ev);\n        var executeAction = function (handlerRegister) { return __awaiter(void 0, void 0, void 0, function () {\n            var result, e_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        if (!(handlerRegister && handlerRegister.handler)) return [3 /*break*/, 2];\n                        result = handlerRegister.handler(processHandlers);\n                        if (!(result != null)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, result];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _a.sent();\n                        console.error(e_1);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); };\n        var processHandlers = function () {\n            if (handlers.length > 0) {\n                var selectedHandler_1 = {\n                    priority: Number.MIN_SAFE_INTEGER,\n                    handler: function () { return undefined; },\n                    id: -1\n                };\n                handlers.forEach(function (handler) {\n                    if (handler.priority >= selectedHandler_1.priority) {\n                        selectedHandler_1 = handler;\n                    }\n                });\n                busy = true;\n                handlers = handlers.filter(function (handler) { return handler.id !== selectedHandler_1.id; });\n                executeAction(selectedHandler_1).then(function () { return busy = false; });\n            }\n        };\n        processHandlers();\n    });\n};\nvar OVERLAY_BACK_BUTTON_PRIORITY = 100;\nvar MENU_BACK_BUTTON_PRIORITY = 99; // 1 less than overlay priority since menu is displayed behind overlays\nexport { MENU_BACK_BUTTON_PRIORITY, OVERLAY_BACK_BUTTON_PRIORITY, startHardwareBackButton };\n"],"sourceRoot":""}