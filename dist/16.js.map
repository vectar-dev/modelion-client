{"version":3,"sources":["webpack:///./node_modules/@ionic/core/dist/esm-es5/index-9b2fc761.js","webpack:///./node_modules/@ionic/core/dist/esm-es5/cubic-bezier-685f606a.js","webpack:///./node_modules/@ionic/core/dist/esm-es5/framework-delegate-d1eb6504.js","webpack:///./node_modules/@ionic/core/dist/esm-es5/ion-nav_2.entry.js","webpack:///./node_modules/@ionic/core/dist/esm-es5/helpers-5c745fbd.js"],"names":["LIFECYCLE_WILL_LEAVE","LIFECYCLE_DID_LEAVE","LIFECYCLE_WILL_UNLOAD","transition","opts","Promise","resolve","reject","beforeTransition","runTransition","then","result","animation","destroy","afterTransition","error","enteringEl","leavingEl","setZIndex","direction","showGoBack","classList","add","remove","setPageHidden","animationBuilder","this","_a","label","getAnimationBuilder","sent","isBrowser","noAnimation","undefined","_b","animated","duration","mode","iosTransitionAnimation","mdTransitionAnimation","trans","didComplete","waitForReady","baseEl","fireWillEvents","playTransition","progressCallback","fireDidEvents","hasCompleted","defaultDeep","deep","promises","deepWait","deepReady","shallowReady","all","notifyViewReady","viewIsReady","promise","onFinish","currentStep","progressStart","play","lifecycle","el","eventName","ev","CustomEvent","bubbles","cancelable","dispatchEvent","componentOnReady","element","Array","from","children","map","hidden","setAttribute","removeAttribute","style","zIndex","getIonPageElement","contains","ionPage","querySelector","getTimeGivenProgression","p0","p1","p2","p3","progression","solveCubicBezier","tValue","solveCubicParametricEquation","t","Math","pow","refPoint","solveCubicEquation","filter","root","a","b","c","d","discriminant","sqrt","solveQuadraticEquation","p","q","r","phi","acos","s","cos","PI","attachComponent","delegate","container","component","cssClasses","componentProps","attachViewToDom","HTMLElement","Error","ownerDocument","createElement","forEach","Object","assign","appendChild","detachComponent","parentElement","removeViewFromDom","ViewController","params","state","prototype","init","_destroy","nav","matches","view","id","currentParams","keysA","keys","keysB","length","_i","keysA_1","key","convertToView","page","Nav","class_1","hostRef","ionNavWillLoad","ionNavWillChange","ionNavDidChange","transInstr","animationEnabled","useRouter","isTransitioning","destroyed","views","swipeGestureChanged","gesture","enable","swipeGesture","rootChanged","setRoot","rootParams","componentWillLoad","document","closest","getBoolean","emit","componentDidLoad","createSwipeBackGesture","canStart","bind","onStart","onMove","onEnd","disconnectedCallback","push","done","queueTrns","insertStart","insertViews","insert","insertIndex","insertPages","insertComponents","pop","removeStart","removeCount","popTo","indexOrViewCtrl","tiConfig","removeView","popToRoot","removeIndex","startIndex","setPages","setRouteId","_this","active","getActiveSync","changed","finish","commonOpts","updateURL","mark","markVisible","viewController","find","v","getRouteId","tagName","getActive","getByIndex","index","canGoBack","canGoBackSync","getPrevious","getPreviousSync","getLength","indexOf","ti","router","canTransition","skipIfBusy","nextTrns","success","fireError","requiresTransition","enteringView","leavingView","navChanged","failed","rejectReason","shift","rejectReason_1","trys","prepareTI","getEnteringView","postViewInit","enteringRequiresTransition","leavingRequiresTransition","viewsLength","viewControllers","viewControllers_1","removeEnd","i","destroyQueue","finalBalance","console","warn","insertViews_1","insertViewAt","destroyQueue_1","destroyQueue_2","destroyView","animationOpts","progressAnimation","ani","sbAni","get","transitionFinish","cleanupView","cleanup","existingIndex","splice","activeView","activeViewIndex","stepValue","progressStep","shouldComplete","dur","oneTimeCallback","newStepValue","easing","progressEnd","render","defineProperty","enumerable","configurable","NavLink","routerDirection","onClick","routerAnimation","navLink","getElementRoot","fallback","shadowRoot","raf","h","__zone_symbol__requestAnimationFrame","requestAnimationFrame","setTimeout","hasShadowDom","attachShadow","findItemLabel","componentEl","itemEl","renderHiddenInput","always","name","value","disabled","input","type","clamp","min","n","max","assert","actual","reason","message","now","timeStamp","Date","pointerCoord","changedTouches","touch","x","clientX","y","clientY","pageX","pageY","isEndSide","side","isRTL","dir","debounceEvent","event","wait","original","_original","debounce","func","timer","args","arguments","clearTimeout","apply"],"mappings":"2FAAA,mSAIIA,EAAuB,mBACvBC,EAAsB,kBACtBC,EAAwB,oBAGxBC,EAAa,SAAUC,GACvB,OAAO,IAAIC,SAAQ,SAAUC,EAASC,GAClC,aAAU,WACNC,EAAiBJ,GACjBK,EAAcL,GAAMM,MAAK,SAAUC,GAC3BA,EAAOC,WACPD,EAAOC,UAAUC,UAErBC,EAAgBV,GAChBE,EAAQK,MACT,SAAUI,GACTD,EAAgBV,GAChBG,EAAOQ,aAKnBP,EAAmB,SAAUJ,GAC7B,IAAIY,EAAaZ,EAAKY,WAClBC,EAAYb,EAAKa,UACrBC,EAAUF,EAAYC,EAAWb,EAAKe,WAClCf,EAAKgB,WACLJ,EAAWK,UAAUC,IAAI,eAGzBN,EAAWK,UAAUE,OAAO,eAEhCC,EAAcR,GAAY,GACtBC,GACAO,EAAcP,GAAW,IAG7BR,EAAgB,SAAUL,GAAQ,OAAO,iBAAU,OAAQ,OAAQ,GAAQ,WAC3E,IAAIqB,EACJ,OAAO,YAAYC,MAAM,SAAUC,GAC/B,OAAQA,EAAGC,OACP,KAAK,EAAG,MAAO,CAAC,EAAaC,EAAoBzB,IACjD,KAAK,EAKD,OAJAqB,EAAmBE,EAAGG,OAIf,CAAC,EAHDL,GAAoB,IAAMM,UAC3BnB,EAAUa,EAAkBrB,GAC5B4B,EAAY5B,YAK9BU,EAAkB,SAAUV,GAC5B,IAAIY,EAAaZ,EAAKY,WAClBC,EAAYb,EAAKa,UACrBD,EAAWK,UAAUE,OAAO,2BACVU,IAAdhB,GACAA,EAAUI,UAAUE,OAAO,uBAG/BM,EAAsB,SAAUzB,GAAQ,OAAO,iBAAU,OAAQ,OAAQ,GAAQ,WACjF,IAAkBuB,EAClB,OAAO,YAAYD,MAAM,SAAUQ,GAC/B,OAAQA,EAAGN,OACP,KAAK,EACD,OAAKxB,EAAKa,WAAcb,EAAK+B,UAA8B,IAAlB/B,EAAKgC,SAG1ChC,EAAKqB,iBACE,CAAC,EAAcrB,EAAKqB,kBAEX,QAAdrB,EAAKiC,KAAwB,CAAC,EAAa,GAC1C,CAAC,EApE0B,sDA8DvB,CAAC,OAAcJ,GAO9B,KAAK,EAED,OADAN,EAAMO,EAAGJ,OAAQQ,uBACV,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,EAvEqB,sDAwErC,KAAK,EACDX,EAAMO,EAAGJ,OAAQS,sBACjBL,EAAGN,MAAQ,EACf,KAAK,EAED,MAAO,CAAC,EADOD,WAK3Bf,EAAY,SAAUa,EAAkBrB,GAAQ,OAAO,iBAAU,OAAQ,OAAQ,GAAQ,WACzF,IAAIoC,EAAOC,EACX,OAAO,YAAYf,MAAM,SAAUC,GAC/B,OAAQA,EAAGC,OACP,KAAK,EAAG,MAAO,CAAC,EAAac,EAAatC,GAAM,IAChD,KAAK,EAID,OAHAuB,EAAGG,OACHU,EAAQf,EAAiBrB,EAAKuC,OAAQvC,GACtCwC,EAAexC,EAAKY,WAAYZ,EAAKa,WAC9B,CAAC,EAAa4B,EAAeL,EAAOpC,IAC/C,KAAK,EAQD,OAPAqC,EAAcd,EAAGG,OACb1B,EAAK0C,kBACL1C,EAAK0C,sBAAiBb,GAEtBQ,GACAM,EAAc3C,EAAKY,WAAYZ,EAAKa,WAEjC,CAAC,EAAc,CACd+B,aAAcP,EACd7B,UAAW4B,YAK/BR,EAAc,SAAU5B,GAAQ,OAAO,iBAAU,OAAQ,OAAQ,GAAQ,WACzE,IAAIY,EAAYC,EAChB,OAAO,YAAYS,MAAM,SAAUC,GAC/B,OAAQA,EAAGC,OACP,KAAK,EAGD,OAFAZ,EAAaZ,EAAKY,WAClBC,EAAYb,EAAKa,UACV,CAAC,EAAayB,EAAatC,GAAM,IAC5C,KAAK,EAID,OAHAuB,EAAGG,OACHc,EAAe5B,EAAYC,GAC3B8B,EAAc/B,EAAYC,GACnB,CAAC,EAAc,CACd+B,cAAc,YAKlCN,EAAe,SAAUtC,EAAM6C,GAAe,OAAO,iBAAU,OAAQ,OAAQ,GAAQ,WACvF,IAAIC,EAAMC,EACV,OAAO,YAAYzB,MAAM,SAAUC,GAC/B,OAAQA,EAAGC,OACP,KAAK,EASD,OARAsB,OAAyBjB,IAAlB7B,EAAKgD,SAAyBhD,EAAKgD,SAAWH,EACrDE,EAAWD,EAAO,CACdG,EAAUjD,EAAKY,YACfqC,EAAUjD,EAAKa,YACf,CACAqC,EAAalD,EAAKY,YAClBsC,EAAalD,EAAKa,YAEf,CAAC,EAAaZ,QAAQkD,IAAIJ,IACrC,KAAK,EAED,OADAxB,EAAGG,OACI,CAAC,EAAa0B,EAAgBpD,EAAKqD,YAAarD,EAAKY,aAChE,KAAK,EAED,OADAW,EAAGG,OACI,CAAC,WAIpB0B,EAAkB,SAAUC,EAAazC,GAAc,OAAO,iBAAU,OAAQ,OAAQ,GAAQ,WAChG,OAAO,YAAYU,MAAM,SAAUC,GAC/B,OAAQA,EAAGC,OACP,KAAK,EACD,OAAK6B,EACE,CAAC,EAAaA,EAAYzC,IADR,CAAC,EAAa,GAE3C,KAAK,EACDW,EAAGG,OACHH,EAAGC,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,WAIxBiB,EAAiB,SAAUL,EAAOpC,GAClC,IAAI0C,EAAmB1C,EAAK0C,iBACxBY,EAAU,IAAIrD,SAAQ,SAAUC,GAChCkC,EAAMmB,UAAS,SAAUC,GAAe,OAAOtD,EAAwB,IAAhBsD,SAgB3D,OAbId,GAGAN,EAAMqB,eAAc,GACpBf,EAAiBN,IAMjBA,EAAMsB,OAGHJ,GAEPd,EAAiB,SAAU5B,EAAYC,GACvC8C,EAAU9C,EAAWjB,GACrB+D,EAAU/C,EA7La,qBA+LvB+B,EAAgB,SAAU/B,EAAYC,GACtC8C,EAAU/C,EA/LY,mBAgMtB+C,EAAU9C,EAAWhB,IAErB8D,EAAY,SAAUC,EAAIC,GAC1B,GAAID,EAAI,CACJ,IAAIE,EAAK,IAAIC,YAAYF,EAAW,CAChCG,SAAS,EACTC,YAAY,IAEhBL,EAAGM,cAAcJ,KAGrBZ,EAAe,SAAUU,GACzB,OAAIA,GAAMA,EAAGO,iBACFP,EAAGO,mBAEPlE,QAAQC,WAEf+C,EAAY,SAAUW,GAAM,OAAO,iBAAU,OAAQ,OAAQ,GAAQ,WACrE,IAAIQ,EACJ,OAAO,YAAY9C,MAAM,SAAUC,GAC/B,OAAQA,EAAGC,OACP,KAAK,EAED,OADA4C,EAAUR,GAEwB,MAA5BQ,EAAQD,iBAAkC,CAAC,EAAa,GACvD,CAAC,EAAaC,EAAQD,oBAFR,CAAC,EAAa,GAGvC,KAAK,EAED,GAAiB,MADL5C,EAAGG,OAEX,MAAO,CAAC,GAEZH,EAAGC,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,EAAavB,QAAQkD,IAAIkB,MAAMC,KAAKF,EAAQG,UAAUC,IAAIvB,KAC1E,KAAK,EACD1B,EAAGG,OACHH,EAAGC,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,WAIxBJ,EAAgB,SAAUwC,EAAIa,GAC1BA,GACAb,EAAGc,aAAa,cAAe,QAC/Bd,EAAG3C,UAAUC,IAAI,qBAGjB0C,EAAGa,QAAS,EACZb,EAAGe,gBAAgB,eACnBf,EAAG3C,UAAUE,OAAO,qBAGxBL,EAAY,SAAUF,EAAYC,EAAWE,QAC1Bc,IAAfjB,IACAA,EAAWgE,MAAMC,OAAwB,SAAd9D,EACrB,KACA,YAEQc,IAAdhB,IACAA,EAAU+D,MAAMC,OAAS,QAG7BC,EAAoB,SAAUV,GAC9B,GAAIA,EAAQnD,UAAU8D,SAAS,YAC3B,OAAOX,EAEX,IAAIY,EAAUZ,EAAQa,cAAc,2DACpC,OAAID,GAIGZ,I,iCCzQX,kCAmBA,IAAIc,EAA0B,SAAUC,EAAIC,EAAIC,EAAIC,EAAIC,GACpD,OAAOC,EAAiBL,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,GAAaf,KAAI,SAAUiB,GAC3E,OAAOC,EAA6BP,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIG,OAMpEC,EAA+B,SAAUP,EAAIC,EAAIC,EAAIC,EAAIK,GAIzD,OAAOA,GAHM,EAAIP,EAAMQ,KAAKC,IAAIF,EAAI,EAAG,GAGlBA,IAFP,EAAIN,EAAKM,EAAM,EAAIN,EAAOC,EAAKK,IACjCR,EAAKS,KAAKC,IAAIF,EAAI,EAAG,IAMjCH,EAAmB,SAAUL,EAAIC,EAAIC,EAAIC,EAAIQ,GAM7C,OADYC,GADZT,GAAMQ,GAC8B,GAFpCT,GAAMS,GAEuC,GAH7CV,GAAMU,IADNX,GAAMW,GAIoD,EAAIT,EAAK,EAAID,EAAK,EAAID,EAAI,EAAIC,EAAK,EAAID,EAAIA,GACxFa,QAAO,SAAUC,GAAQ,OAAOA,GAAQ,GAAKA,GAAQ,MAclEF,EAAqB,SAAUG,EAAGC,EAAGC,EAAGC,GACxC,GAAU,IAANH,EACA,OAdqB,SAAUA,EAAGC,EAAGC,GACzC,IAAIE,EAAeH,EAAIA,EAAI,EAAID,EAAIE,EACnC,OAAIE,EAAe,EACR,GAGA,GACDH,EAAIP,KAAKW,KAAKD,KAAkB,EAAIJ,KACpCC,EAAIP,KAAKW,KAAKD,KAAkB,EAAIJ,IAMnCM,CAAuBL,EAAGC,EAAGC,GAKxC,IAAII,GAAK,GAFTL,GAAKF,IADLC,GAAKD,GAGgBC,GAAK,EACtBO,GAAK,EAAIP,EAAIA,EAAIA,EAAI,EAAIA,EAAIC,EAAI,IAFrCC,GAAKH,IAE0C,GAC/C,GAAU,IAANO,EACA,MAAO,CAACb,KAAKC,KAAKa,EAAG,EAAI,IAExB,GAAU,IAANA,EACL,MAAO,CAACd,KAAKW,MAAME,IAAKb,KAAKW,MAAME,IAEvC,IAAIH,EAAeV,KAAKC,IAAIa,EAAI,EAAG,GAAKd,KAAKC,IAAIY,EAAI,EAAG,GACxD,GAAqB,IAAjBH,EACA,MAAO,CAACV,KAAKC,IAAIa,EAAI,EAAG,IAASP,EAAI,GAEpC,GAAIG,EAAe,EACpB,MAAO,CAACV,KAAKC,KAAMa,EAAI,EAAKd,KAAKW,KAAKD,GAAe,EAAI,GAAKV,KAAKC,IAAKa,EAAI,EAAKd,KAAKW,KAAKD,GAAe,EAAI,GAAKH,EAAI,GAE3H,IAAIQ,EAAIf,KAAKW,KAAKX,KAAKC,KAAMY,EAAI,EAAI,IACjCG,EAAMhB,KAAKiB,MAAOH,GAAK,EAAId,KAAKW,KAAKX,KAAKC,KAAMY,EAAI,EAAI,MACxDK,EAAI,EAAIlB,KAAKC,IAAIc,EAAG,EAAI,GAC5B,MAAO,CACHG,EAAIlB,KAAKmB,IAAIH,EAAM,GAAKT,EAAI,EAC5BW,EAAIlB,KAAKmB,KAAKH,EAAM,EAAIhB,KAAKoB,IAAM,GAAKb,EAAI,EAC5CW,EAAIlB,KAAKmB,KAAKH,EAAM,EAAIhB,KAAKoB,IAAM,GAAKb,EAAI,K,iCCpFpD,gFACIc,EAAkB,SAAUC,EAAUC,EAAWC,EAAWC,EAAYC,GAAkB,OAAO,iBAAU,OAAQ,OAAQ,GAAQ,WACnI,IAAI1D,EACJ,OAAO,YAAYtC,MAAM,SAAUC,GAC/B,OAAQA,EAAGC,OACP,KAAK,EACD,GAAI0F,EACA,MAAO,CAAC,EAAcA,EAASK,gBAAgBJ,EAAWC,EAAWE,EAAgBD,IAEzF,GAAyB,iBAAdD,KAA4BA,aAAqBI,aACxD,MAAM,IAAIC,MAAM,iCAYpB,OAVA7D,EAA2B,iBAAdwD,EACPD,EAAUO,eAAiBP,EAAUO,cAAcC,cAAcP,GACjEA,EACFC,GACAA,EAAWO,SAAQ,SAAUxB,GAAK,OAAOxC,EAAG3C,UAAUC,IAAIkF,MAE1DkB,GACAO,OAAOC,OAAOlE,EAAI0D,GAEtBH,EAAUY,YAAYnE,GACjBA,EAAGO,iBACD,CAAC,EAAaP,EAAGO,oBADS,CAAC,EAAa,GAEnD,KAAK,EACD5C,EAAGG,OACHH,EAAGC,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,EAAcoC,WAItCoE,EAAkB,SAAUd,EAAU9C,GACtC,GAAIA,EAAS,CACT,GAAI8C,EAAU,CACV,IAAIC,EAAY/C,EAAQ6D,cACxB,OAAOf,EAASgB,kBAAkBf,EAAW/C,GAEjDA,EAAQjD,SAEZ,OAAOlB,QAAQC,Y,gCCvCnB,0JAUIiI,EAAgC,WAChC,SAASA,EAAef,EAAWgB,GAC/B9G,KAAK8F,UAAYA,EACjB9F,KAAK8G,OAASA,EACd9G,KAAK+G,MAPQ,EA6CjB,OApCAF,EAAeG,UAAUC,KAAO,SAAUpB,GACtC,OAAO,YAAU7F,UAAM,OAAQ,GAAQ,WACnC,IAAI8F,EAAW7F,EACf,OAAO,YAAYD,MAAM,SAAUQ,GAC/B,OAAQA,EAAGN,OACP,KAAK,EAED,OADAF,KAAK+G,MAdH,EAeI/G,KAAK8C,QAAgB,CAAC,EAAa,IACzCgD,EAAY9F,KAAK8F,UACjB7F,EAAKD,KACE,CAAC,EAAa,YAAgBA,KAAK4F,SAAUC,EAAWC,EAAW,CAAC,WAAY,sBAAuB9F,KAAK8G,UACvH,KAAK,EACD7G,EAAG6C,QAAUtC,EAAGJ,OAChBI,EAAGN,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,WAQhC2G,EAAeG,UAAUE,SAAW,WAChC,YA9BmB,IA8BZlH,KAAK+G,MAAgC,+BAC5C,IAAIjE,EAAU9C,KAAK8C,QACfA,IACI9C,KAAK4F,SACL5F,KAAK4F,SAASgB,kBAAkB9D,EAAQ6D,cAAe7D,GAGvDA,EAAQjD,UAGhBG,KAAKmH,SAAM5G,EACXP,KAAK+G,MAzCc,GA2ChBF,EA1CwB,GA4C/BO,EAAU,SAAUC,EAAMC,EAAIR,GAC9B,IAAKO,EACD,OAAO,EAEX,GAAIA,EAAKvB,YAAcwB,EACnB,OAAO,EAEX,IAAIC,EAAgBF,EAAKP,OACzB,GAAIS,IAAkBT,EAClB,OAAO,EAEX,IAAKS,IAAkBT,EACnB,OAAO,EAEX,IAAKS,IAAkBT,EACnB,OAAO,EAEX,IAAIU,EAAQjB,OAAOkB,KAAKF,GACpBG,EAAQnB,OAAOkB,KAAKX,GACxB,GAAIU,EAAMG,SAAWD,EAAMC,OACvB,OAAO,EAGX,IAAK,IAAIC,EAAK,EAAGC,EAAUL,EAAOI,EAAKC,EAAQF,OAAQC,IAAM,CACzD,IAAIE,EAAMD,EAAQD,GAClB,GAAIL,EAAcO,KAAShB,EAAOgB,GAC9B,OAAO,EAGf,OAAO,GAEPC,EAAgB,SAAUC,EAAMlB,GAChC,OAAKkB,EAGDA,aAAgBnB,EACTmB,EAEJ,IAAInB,EAAemB,EAAMlB,GALrB,MA0BXmB,EAAqB,WACrB,SAASC,EAAQC,GACb,YAAiBnI,KAAMmI,GACvBnI,KAAKoI,eAAiB,YAAYpI,KAAM,iBAAkB,GAC1DA,KAAKqI,iBAAmB,YAAYrI,KAAM,mBAAoB,GAC9DA,KAAKsI,gBAAkB,YAAYtI,KAAM,kBAAmB,GAC5DA,KAAKuI,WAAa,GAClBvI,KAAKwI,kBAAmB,EACxBxI,KAAKyI,WAAY,EACjBzI,KAAK0I,iBAAkB,EACvB1I,KAAK2I,WAAY,EACjB3I,KAAK4I,MAAQ,GAIb5I,KAAKS,UAAW,EA6yBpB,OA3yBAyH,EAAQlB,UAAU6B,oBAAsB,WAChC7I,KAAK8I,SACL9I,KAAK8I,QAAQC,QAA6B,IAAtB/I,KAAKgJ,eAGjCd,EAAQlB,UAAUiC,YAAc,gBACV1I,IAAdP,KAAK2E,OACA3E,KAAKyI,WACNzI,KAAKkJ,QAAQlJ,KAAK2E,KAAM3E,KAAKmJ,cAIzCjB,EAAQlB,UAAUoC,kBAAoB,WAIlC,GAHApJ,KAAKyI,YACCY,SAAS1F,cAAc,gBACpB3D,KAAKsC,GAAGgH,QAAQ,oBACC/I,IAAtBP,KAAKgJ,aAA4B,CACjC,IAAIrI,EAAO,YAAWX,MACtBA,KAAKgJ,aAAe,IAAOO,WAAW,mBAA6B,QAAT5I,GAE9DX,KAAKoI,eAAeoB,QAExBtB,EAAQlB,UAAUyC,iBAAmB,WACjC,OAAO,YAAUzJ,UAAM,OAAQ,GAAQ,WACnC,IAAIC,EACJ,OAAO,YAAYD,MAAM,SAAUQ,GAC/B,OAAQA,EAAGN,OACP,KAAK,EAGD,OAFAF,KAAKiJ,cACLhJ,EAAKD,KACE,CAAC,EAAa,+BACzB,KAAK,EAGD,OAFAC,EAAG6I,QAAWtI,EAAGJ,OAAQsJ,uBAAuB1J,KAAKsC,GAAItC,KAAK2J,SAASC,KAAK5J,MAAOA,KAAK6J,QAAQD,KAAK5J,MAAOA,KAAK8J,OAAOF,KAAK5J,MAAOA,KAAK+J,MAAMH,KAAK5J,OACpJA,KAAK6I,sBACE,CAAC,WAK5BX,EAAQlB,UAAUgD,qBAAuB,WACrC,IAAK,IAAIpC,EAAK,EAAG3H,EAAKD,KAAK4I,MAAOhB,EAAK3H,EAAG0H,OAAQC,IAAM,CACpD,IAAIP,EAAOpH,EAAG2H,GACd,YAAUP,EAAKvE,QAAS,KACxBuE,EAAKH,WAELlH,KAAK8I,UACL9I,KAAK8I,QAAQ3J,UACba,KAAK8I,aAAUvI,GAGnBP,KAAKuI,WAAWZ,OAAS3H,KAAK4I,MAAMjB,OAAS,EAC7C3H,KAAK2I,WAAY,GAYrBT,EAAQlB,UAAUiD,KAAO,SAAUnE,EAAWE,EAAgBtH,EAAMwL,GAChE,OAAOlK,KAAKmK,UAAU,CAClBC,aAAc,EACdC,YAAa,CAAC,CAAEvE,UAAWA,EAAWE,eAAgBA,IACtDtH,KAAMA,GACPwL,IAYPhC,EAAQlB,UAAUsD,OAAS,SAAUC,EAAazE,EAAWE,EAAgBtH,EAAMwL,GAC/E,OAAOlK,KAAKmK,UAAU,CAClBC,YAAaG,EACbF,YAAa,CAAC,CAAEvE,UAAWA,EAAWE,eAAgBA,IACtDtH,KAAMA,GACPwL,IAYPhC,EAAQlB,UAAUwD,YAAc,SAAUD,EAAaE,EAAkB/L,EAAMwL,GAC3E,OAAOlK,KAAKmK,UAAU,CAClBC,YAAaG,EACbF,YAAaI,EACb/L,KAAMA,GACPwL,IASPhC,EAAQlB,UAAU0D,IAAM,SAAUhM,EAAMwL,GACpC,OAAOlK,KAAKmK,UAAU,CAClBQ,aAAc,EACdC,YAAa,EACblM,KAAMA,GACPwL,IASPhC,EAAQlB,UAAU6D,MAAQ,SAAUC,EAAiBpM,EAAMwL,GACvD,IAAIa,EAAW,CACXJ,aAAc,EACdC,aAAc,EACdlM,KAAMA,GASV,MAP+B,iBAApBoM,GAAgCA,EAAgBhF,WACvDiF,EAASC,WAAaF,EACtBC,EAASJ,YAAc,GAES,iBAApBG,IACZC,EAASJ,YAAcG,EAAkB,GAEtC9K,KAAKmK,UAAUY,EAAUb,IAQpChC,EAAQlB,UAAUiE,UAAY,SAAUvM,EAAMwL,GAC1C,OAAOlK,KAAKmK,UAAU,CAClBQ,YAAa,EACbC,aAAc,EACdlM,KAAMA,GACPwL,IAUPhC,EAAQlB,UAAUkE,YAAc,SAAUC,EAAYP,EAAalM,EAAMwL,GAErE,YADoB,IAAhBU,IAA0BA,EAAc,GACrC5K,KAAKmK,UAAU,CAClBQ,YAAaQ,EACbP,YAAaA,EACblM,KAAMA,GACPwL,IAUPhC,EAAQlB,UAAUkC,QAAU,SAAUpD,EAAWE,EAAgBtH,EAAMwL,GACnE,OAAOlK,KAAKoL,SAAS,CAAC,CAAEtF,UAAWA,EAAWE,eAAgBA,IAAmBtH,EAAMwL,IAY3FhC,EAAQlB,UAAUoE,SAAW,SAAUxC,EAAOlK,EAAMwL,GAQhD,OAPY,MAARxL,IACAA,EAAO,KAGW,IAAlBA,EAAK+B,WACL/B,EAAK+B,UAAW,GAEbT,KAAKmK,UAAU,CAClBC,YAAa,EACbC,YAAazB,EACb+B,YAAa,EACbC,aAAc,EACdlM,KAAMA,GACPwL,IAGPhC,EAAQlB,UAAUqE,WAAa,SAAU/D,EAAIR,EAAQrH,EAAWP,GAC5D,IAQIN,EARA0M,EAAQtL,KACRuL,EAASvL,KAAKwL,gBAClB,GAAIpE,EAAQmE,EAAQjE,EAAIR,GACpB,OAAOnI,QAAQC,QAAQ,CACnB6M,SAAS,EACT3I,QAASyI,EAAOzI,UAIxB,IACI4I,EADA1J,EAAU,IAAIrD,SAAQ,SAAU0G,GAAK,OAAQzG,EAAUyG,KAEvDsG,EAAa,CACbC,WAAW,EACX7J,YAAa,SAAUzC,GACnB,IAAIuM,EACA1G,EAAI,IAAIxG,SAAQ,SAAU0G,GAAK,OAAQwG,EAAOxG,KAiBlD,OAhBAzG,EAAQ,CACJ6M,SAAS,EACT3I,QAASxD,EACTwM,YAAa,WAAc,OAAO,YAAUR,OAAO,OAAQ,GAAQ,WAC/D,OAAO,YAAYtL,MAAM,SAAUC,GAC/B,OAAQA,EAAGC,OACP,KAAK,EAED,OADA2L,IACO,CAAC,EAAaH,GACzB,KAAK,EAED,OADAzL,EAAGG,OACI,CAAC,aAKrB+E,IAGf,GAAkB,SAAd1F,EACAiM,EAAS1L,KAAKkJ,QAAQ5B,EAAIR,EAAQ6E,OAEjC,CACD,IAAII,EAAiB/L,KAAK4I,MAAMoD,MAAK,SAAUC,GAAK,OAAO7E,EAAQ6E,EAAG3E,EAAIR,MACtEiF,EACAL,EAAS1L,KAAK6K,MAAMkB,EAAgBxF,OAAOC,OAAOD,OAAOC,OAAO,GAAImF,GAAa,CAAElM,UAAW,OAAQM,iBAAkBb,KAErG,YAAdO,EACLiM,EAAS1L,KAAKiK,KAAK3C,EAAIR,EAAQP,OAAOC,OAAOD,OAAOC,OAAO,GAAImF,GAAa,CAAE5L,iBAAkBb,KAE7E,SAAdO,IACLiM,EAAS1L,KAAKkJ,QAAQ5B,EAAIR,EAAQP,OAAOC,OAAOD,OAAOC,OAAO,GAAImF,GAAa,CAAElM,UAAW,OAAQgB,UAAU,EAAMV,iBAAkBb,MAG9I,OAAO8C,GAGXkG,EAAQlB,UAAUkF,WAAa,WAC3B,OAAO,YAAUlM,UAAM,OAAQ,GAAQ,WACnC,IAAIuL,EACJ,OAAO,YAAYvL,MAAM,SAAUC,GAE/B,MAAO,CAAC,GADRsL,EAASvL,KAAKwL,iBAEJ,CACElE,GAAIiE,EAAOzI,QAAQqJ,QACnBrF,OAAQyE,EAAOzE,OACfhE,QAASyI,EAAOzI,cAElBvC,UAOtB2H,EAAQlB,UAAUoF,UAAY,WAC1B,OAAOzN,QAAQC,QAAQoB,KAAKwL,kBAOhCtD,EAAQlB,UAAUqF,WAAa,SAAUC,GACrC,OAAO3N,QAAQC,QAAQoB,KAAK4I,MAAM0D,KAOtCpE,EAAQlB,UAAUuF,UAAY,SAAUlF,GACpC,OAAO1I,QAAQC,QAAQoB,KAAKwM,cAAcnF,KAO9Ca,EAAQlB,UAAUyF,YAAc,SAAUpF,GACtC,OAAO1I,QAAQC,QAAQoB,KAAK0M,gBAAgBrF,KAEhDa,EAAQlB,UAAU2F,UAAY,WAC1B,OAAO3M,KAAK4I,MAAMjB,QAEtBO,EAAQlB,UAAUwE,cAAgB,WAC9B,OAAOxL,KAAK4I,MAAM5I,KAAK4I,MAAMjB,OAAS,IAE1CO,EAAQlB,UAAUwF,cAAgB,SAAUnF,GAExC,YADa,IAATA,IAAmBA,EAAOrH,KAAKwL,oBACzBnE,IAAQrH,KAAK0M,gBAAgBrF,KAE3Ca,EAAQlB,UAAU0F,gBAAkB,SAAUrF,GAE1C,QADa,IAATA,IAAmBA,EAAOrH,KAAKwL,iBAC9BnE,EAAL,CAGA,IAAIuB,EAAQ5I,KAAK4I,MACb0D,EAAQ1D,EAAMgE,QAAQvF,GAC1B,OAAOiF,EAAQ,EAAI1D,EAAM0D,EAAQ,QAAK/L,IAY1C2H,EAAQlB,UAAUmD,UAAY,SAAU0C,EAAI3C,GACxC,OAAO,YAAUlK,UAAM,OAAQ,GAAQ,WACnC,IAAIgC,EAAS8K,EAAQC,EACrB,OAAO,YAAY/M,MAAM,SAAUC,GAC/B,OAAQA,EAAGC,OACP,KAAK,EACD,OAAIF,KAAK0I,iBAA8B,MAAXmE,EAAGnO,MAAgBmO,EAAGnO,KAAKsO,WAC5C,CAAC,EAAcrO,QAAQC,SAAQ,KAE1CoD,EAAU,IAAIrD,SAAQ,SAAUC,EAASC,GACrCgO,EAAGjO,QAAUA,EACbiO,EAAGhO,OAASA,KAEhBgO,EAAG3C,KAAOA,EACJ2C,EAAGnO,OAA8B,IAAtBmO,EAAGnO,KAAKkN,WAAuB5L,KAAKyI,YACrDqE,EAASzD,SAAS1F,cAAc,eAEzB,CAAC,EAAamJ,EAAOC,iBAH4C,CAAC,EAAa,IAI1F,KAAK,EAED,IAAsB,KADtBA,EAAgB9M,EAAGG,QAEf,MAAO,CAAC,EAAczB,QAAQC,SAAQ,IAErC,GAA6B,iBAAlBmO,EAEZ,OADAD,EAAO7C,KAAK8C,EAAeF,EAAGnO,KAAKe,WAAa,QACzC,CAAC,EAAcd,QAAQC,SAAQ,IAE1CqB,EAAGC,MAAQ,EACf,KAAK,EAUD,OARI2M,EAAGxC,aAAyC,IAA1BwC,EAAGxC,YAAY1C,SACjCkF,EAAGxC,iBAAc9J,GAGrBP,KAAKuI,WAAW0B,KAAK4C,GAGrB7M,KAAKiN,WACE,CAAC,EAAcjL,WAK1CkG,EAAQlB,UAAUkG,QAAU,SAAUjO,EAAQ4N,GAC1C,GAAI7M,KAAK2I,UACL3I,KAAKmN,UAAU,+BAAgCN,QAOnD,GAJIA,EAAG3C,MACH2C,EAAG3C,KAAKjL,EAAOqC,aAAcrC,EAAOmO,mBAAoBnO,EAAOoO,aAAcpO,EAAOqO,YAAarO,EAAOQ,WAE5GoN,EAAGjO,QAAQK,EAAOqC,eACQ,IAAtBuL,EAAGnO,KAAKkN,WAAuB5L,KAAKyI,UAAW,CAC/C,IAAIqE,EAASzD,SAAS1F,cAAc,cACpC,GAAImJ,EAAQ,CACR,IAAIrN,EAAiC,SAArBR,EAAOQ,UAAuB,OAAS,UACvDqN,EAAOS,WAAW9N,MAI9ByI,EAAQlB,UAAUwG,OAAS,SAAUC,EAAcZ,GAC3C7M,KAAK2I,UACL3I,KAAKmN,UAAU,+BAAgCN,IAGnD7M,KAAKuI,WAAWZ,OAAS,EACzB3H,KAAKmN,UAAUM,EAAcZ,KAEjC3E,EAAQlB,UAAUmG,UAAY,SAAUM,EAAcZ,GAC9CA,EAAG3C,MACH2C,EAAG3C,MAAK,GAAO,EAAOuD,GAEtBZ,EAAGhO,SAAWmB,KAAK2I,UACnBkE,EAAGhO,OAAO4O,GAGVZ,EAAGjO,SAAQ,IAGnBsJ,EAAQlB,UAAUiG,SAAW,WAGzB,GAAIjN,KAAK0I,gBACL,OAAO,EAIX,IAAImE,EAAK7M,KAAKuI,WAAWmF,QACzB,QAAKb,IAGL7M,KAAKjB,cAAc8N,IACZ,IAEX3E,EAAQlB,UAAUjI,cAAgB,SAAU8N,GACxC,OAAO,YAAU7M,UAAM,OAAQ,GAAQ,WACnC,IAAIsN,EAAaD,EAAcD,EAAqCnO,EAAQgB,EAAI0N,EAChF,OAAO,YAAY3N,MAAM,SAAUQ,GAC/B,OAAQA,EAAGN,OACP,KAAK,EAQD,GAPAM,EAAGoN,KAAK3D,KAAK,CAAC,EAAG,EAAG,CAAE,IAEtBjK,KAAKqI,iBAAiBmB,OACtBxJ,KAAK0I,iBAAkB,EACvB1I,KAAK6N,UAAUhB,GACfS,EAActN,KAAKwL,gBACnB6B,EAAerN,KAAK8N,gBAAgBjB,EAAIS,IACnCA,IAAgBD,EACjB,MAAM,IAAIlH,MAAM,uCAEpB,OAAMkH,GAxjBT,IAwjByBA,EAAatG,MAC5B,CAAC,EAAasG,EAAapG,KAAKjH,KAAKsC,KADyB,CAAC,EAAa,GAEvF,KAAK,EACD9B,EAAGJ,OACHI,EAAGN,MAAQ,EACf,KAAK,EAeD,OAdAF,KAAK+N,aAAaV,EAAcC,EAAaT,IAC7CO,GAAsBP,EAAGmB,4BAA8BnB,EAAGoB,4BACtDZ,IAAiBC,IACKT,EAAGnO,MAAQ4O,IACO,SAAtBT,EAAGnO,KAAKe,YAMtBoN,EAAGnO,KAAKqB,iBAAmB8M,EAAGnO,KAAKqB,kBAAqBsN,GAAgBA,EAAatN,kBAEzFuN,EAAYvN,iBAAmB8M,EAAGnO,KAAKqB,kBAEtCqN,EACE,CAAC,EAAapN,KAAKvB,WAAW4O,EAAcC,EAAaT,IADhC,CAAC,EAAa,GAElD,KAAK,EAED,OADA5M,EAAKO,EAAGJ,OACD,CAAC,EAAa,GACzB,KAAK,EACDH,EAAK,CAKDqB,cAAc,EACd8L,oBAAoB,GAExB5M,EAAGN,MAAQ,EACf,KAAK,EAID,OAHAjB,EAASgB,EACTD,KAAKkN,QAAQjO,EAAQ4N,GACrB7M,KAAKsI,gBAAgBkB,OACd,CAAC,EAAa,GACzB,KAAK,EAGD,OAFAmE,EAAiBnN,EAAGJ,OACpBJ,KAAKwN,OAAOG,EAAgBd,GACrB,CAAC,EAAa,GACzB,KAAK,EAGD,OAFA7M,KAAK0I,iBAAkB,EACvB1I,KAAKiN,WACE,CAAC,WAK5B/E,EAAQlB,UAAU6G,UAAY,SAAUhB,GACpC,IAAIqB,EAAclO,KAAK4I,MAAMjB,OAK7B,GAJAkF,EAAGnO,KAAOmO,EAAGnO,MAAQ,QACI6B,IAArBsM,EAAGnO,KAAKkH,WACRiH,EAAGnO,KAAKkH,SAAW5F,KAAK4F,eAENrF,IAAlBsM,EAAG7B,WAA0B,CAC7B,iBAA0BzK,IAAnBsM,EAAGlC,YAA2B,gCACrC,iBAA0BpK,IAAnBsM,EAAGjC,YAA2B,gCACrC,IAAI0B,EAAQtM,KAAK4I,MAAMgE,QAAQC,EAAG7B,YAClC,GAAIsB,EAAQ,EACR,MAAM,IAAInG,MAAM,4BAEpB0G,EAAGlC,aAAe2B,OAEC/L,IAAnBsM,EAAGlC,cACCkC,EAAGlC,YAAc,IACjBkC,EAAGlC,YAAcuD,EAAc,GAE/BrB,EAAGjC,YAAc,IACjBiC,EAAGjC,YAAcsD,EAAcrB,EAAGlC,aAEtCkC,EAAGoB,0BACCpB,EAAGjC,YAAc,GAAKiC,EAAGlC,YAAckC,EAAGjC,cAAgBsD,GAE9DrB,EAAGxC,eAGCwC,EAAGzC,YAAc,GAAKyC,EAAGzC,YAAc8D,KACvCrB,EAAGzC,YAAc8D,GAErBrB,EAAGmB,2BAA6BnB,EAAGzC,cAAgB8D,GAEvD,IAAI7D,EAAcwC,EAAGxC,YACrB,GAAKA,EAAL,CAGA,YAAOA,EAAY1C,OAAS,EAAG,0BAC/B,IAAIwG,EAAiC9D,EA1jB5BnH,KAAI,SAAU8E,GACvB,OAAIA,aAAgBnB,EACTmB,EAEP,cAAeA,EAQRD,EAAcC,EAAKlC,UAAoC,OAAxBkC,EAAKhC,oBAA2BzF,EAAYyH,EAAKhC,gBAEpF+B,EAAcC,OAAMzH,MAC5BmE,QAAO,SAAUuH,GAAK,OAAa,OAANA,KA4iB5B,GAA+B,IAA3BkC,EAAgBxG,OAChB,MAAM,IAAIxB,MAAM,2BAGpB,IAAK,IAAIyB,EAAK,EAAGwG,EAAoBD,EAAiBvG,EAAKwG,EAAkBzG,OAAQC,IAAM,CACvF,IAAIP,EAAO+G,EAAkBxG,GAC7BP,EAAKzB,SAAWiH,EAAGnO,KAAKkH,SACxB,IAAIuB,EAAME,EAAKF,IACf,GAAIA,GAAOA,IAAQnH,KACf,MAAM,IAAImG,MAAM,sCAEpB,GA5pBe,IA4pBXkB,EAAKN,MACL,MAAM,IAAIZ,MAAM,uCAGxB0G,EAAGxC,YAAc8D,IAErBjG,EAAQlB,UAAU8G,gBAAkB,SAAUjB,EAAIS,GAC9C,IAAIjD,EAAcwC,EAAGxC,YACrB,QAAoB9J,IAAhB8J,EAGA,OAAOA,EAAYA,EAAY1C,OAAS,GAE5C,IAAIgD,EAAckC,EAAGlC,YACrB,QAAoBpK,IAAhBoK,EAGA,IAFA,IAAI/B,EAAQ5I,KAAK4I,MACbyF,EAAY1D,EAAckC,EAAGjC,YACxB0D,EAAI1F,EAAMjB,OAAS,EAAG2G,GAAK,EAAGA,IAAK,CACxC,IAAIjH,EAAOuB,EAAM0F,GACjB,IAAKA,EAAI3D,GAAe2D,GAAKD,IAAchH,IAASiG,EAChD,OAAOjG,IAMvBa,EAAQlB,UAAU+G,aAAe,SAAUV,EAAcC,EAAaT,GAClE,YAAOS,GAAeD,EAAc,8CACpC,YAAOR,EAAGjO,QAAS,yBACnB,YAAOiO,EAAGhO,OAAQ,wBAClB,IAII0P,EAJA7P,EAAOmO,EAAGnO,KACV2L,EAAcwC,EAAGxC,YACjBM,EAAckC,EAAGlC,YACjBC,EAAciC,EAAGjC,YAGrB,QAAoBrK,IAAhBoK,QAA6CpK,IAAhBqK,EAA2B,CACxD,YAAOD,GAAe,EAAG,mCACzB,YAAOC,GAAe,EAAG,mCACzB2D,EAAe,GACf,IAAK,IAAID,EAAI,EAAGA,EAAI1D,EAAa0D,IAAK,EAC9BjH,EAAOrH,KAAK4I,MAAM0F,EAAI3D,KACdtD,IAASgG,GAAgBhG,IAASiG,GAC1CiB,EAAatE,KAAK5C,GAI1B3I,EAAKe,UAAYf,EAAKe,WAAa,OAEvC,IAAI+O,EAAexO,KAAK4I,MAAMjB,aACTpH,IAAhB8J,EAA4BA,EAAY1C,OAAS,SACjCpH,IAAhBqK,EAA4BA,EAAc,GAE/C,GADA,YAAO4D,GAAgB,EAAG,qCACL,IAAjBA,EAEA,MADAC,QAAQC,KAAK,uGAAwG1O,KAAMA,KAAKsC,IAC1H,IAAI6D,MAAM,iDAIpB,GAAIkE,EAAa,CAGb,IADA,IAAIE,EAAcsC,EAAGzC,YACZxC,EAAK,EAAG+G,EAAgBtE,EAAazC,EAAK+G,EAAchH,OAAQC,IAAM,CAC3E,IAAIP,EAAOsH,EAAc/G,GACzB5H,KAAK4O,aAAavH,EAAMkD,GACxBA,IAEAsC,EAAGmB,6BAEHtP,EAAKe,UAAYf,EAAKe,WAAa,WAQ3C,GAAI8O,GAAgBA,EAAa5G,OAAS,EAAG,CACzC,IAAK,IAAI1H,EAAK,EAAG4O,EAAiBN,EAActO,EAAK4O,EAAelH,OAAQ1H,IAAM,CAC1EoH,EAAOwH,EAAe5O,GAC1B,YAAUoH,EAAKvE,QAAS,KACxB,YAAUuE,EAAKvE,QAAS,KACxB,YAAUuE,EAAKvE,QAAS,KAG5B,IAAK,IAAItC,EAAK,EAAGsO,EAAiBP,EAAc/N,EAAKsO,EAAenH,OAAQnH,IAAM,CAC1E6G,EAAOyH,EAAetO,GAC1BR,KAAK+O,YAAY1H,MAI7Ba,EAAQlB,UAAUvI,WAAa,SAAU4O,EAAcC,EAAaT,GAChE,OAAO,YAAU7M,UAAM,OAAQ,GAAQ,WACnC,IAAItB,EAAM0C,EAAkBT,EAAMrB,EAAYC,EAAWyP,EAAe1N,EACpEgK,EAAQtL,KACZ,OAAO,YAAYA,MAAM,SAAUC,GAC/B,OAAQA,EAAGC,OACP,KAAK,EAUD,OATAxB,EAAOmO,EAAGnO,KACV0C,EAAmB1C,EAAKuQ,kBAClB,SAAUC,GAAO,OAAO5D,EAAM6D,MAAQD,QACtC3O,EACNI,EAAO,YAAWX,MAClBV,EAAa+N,EAAavK,QAC1BvD,EAAY+N,GAAeA,EAAYxK,QACvCkM,EAAgBzI,OAAOC,OAAO,CAAE7F,KAAMA,EAAMjB,WAAYM,KAAKwM,cAAca,GAAepM,OAAQjB,KAAKsC,GAAIvC,iBAAkBC,KAAKd,WAAaR,EAAKqB,kBAAoB,IAAOqP,IAAI,gBAAiBhO,iBAAkBA,EAAkBX,SAAUT,KAAKS,UAAY,IAAO8I,WAAW,YAAY,GAAOjK,WAAYA,EAChTC,UAAWA,GAAab,GACrB,CAAC,EAAa,YAAWsQ,IACpC,KAAK,EAED,OADA1N,EAAgBrB,EAAGG,OAAQkB,aACpB,CAAC,EAActB,KAAKqP,iBAAiB/N,EAAc+L,EAAcC,EAAa5O,YAKzGwJ,EAAQlB,UAAUqI,iBAAmB,SAAU/N,EAAc+L,EAAcC,EAAa5O,GACpF,IAAI4Q,EAAchO,EAAe+L,EAAeC,EAIhD,OAHIgC,GACAtP,KAAKuP,QAAQD,GAEV,CACHhO,aAAcA,EACd8L,oBAAoB,EACpBC,aAAcA,EACdC,YAAaA,EACb7N,UAAWf,EAAKe,YAGxByI,EAAQlB,UAAU4H,aAAe,SAAUvH,EAAMiF,GAC7C,IAAI1D,EAAQ5I,KAAK4I,MACb4G,EAAgB5G,EAAMgE,QAAQvF,GAC9BmI,GAAiB,GAGjB,YAAOnI,EAAKF,MAAQnH,KAAM,+BAC1B4I,EAAM6G,OAAOnD,EAAO,EAAG1D,EAAM6G,OAAOD,EAAe,GAAG,MAGtD,aAAQnI,EAAKF,IAAK,eAGlBE,EAAKF,IAAMnH,KAEX4I,EAAM6G,OAAOnD,EAAO,EAAGjF,KAG/Ba,EAAQlB,UAAUgE,WAAa,SAAU3D,GACrC,YAhzBkB,IAgzBXA,EAAKN,OA/yBO,IA+yB0BM,EAAKN,MAAgC,4CAClF,IAAI6B,EAAQ5I,KAAK4I,MACb0D,EAAQ1D,EAAMgE,QAAQvF,GAC1B,YAAOiF,GAAS,EAAG,kCACfA,GAAS,GACT1D,EAAM6G,OAAOnD,EAAO,IAG5BpE,EAAQlB,UAAU+H,YAAc,SAAU1H,GACtCA,EAAKH,WACLlH,KAAKgL,WAAW3D,IAKpBa,EAAQlB,UAAUuI,QAAU,SAAUG,GAIlC,IAAI1P,KAAK2I,UAKT,IAFA,IAAIC,EAAQ5I,KAAK4I,MACb+G,EAAkB/G,EAAMgE,QAAQ8C,GAC3BpB,EAAI1F,EAAMjB,OAAS,EAAG2G,GAAK,EAAGA,IAAK,CACxC,IAAIjH,EAAOuB,EAAM0F,GASbxL,EAAUuE,EAAKvE,QACfA,IACIwL,EAAIqB,GAGJ,YAAU7M,EAAS,KACnB9C,KAAK+O,YAAY1H,IAEZiH,EAAIqB,GAGT,YAAc7M,GAAS,MAKvCoF,EAAQlB,UAAU2C,SAAW,WACzB,QAAU3J,KAAKgJ,eACVhJ,KAAK0I,iBACqB,IAA3B1I,KAAKuI,WAAWZ,QAChB3H,KAAKwI,kBACLxI,KAAKwM,iBAEbtE,EAAQlB,UAAU6C,QAAU,WACxB7J,KAAKmK,UAAU,CACXQ,aAAc,EACdC,YAAa,EACblM,KAAM,CACFe,UAAW,OACXwP,mBAAmB,SAExB1O,IAEP2H,EAAQlB,UAAU8C,OAAS,SAAU8F,GAC7B5P,KAAKmP,OACLnP,KAAKmP,MAAMU,aAAaD,IAGhC1H,EAAQlB,UAAU+C,MAAQ,SAAU+F,EAAgBF,EAAWG,GAC3D,IAAIzE,EAAQtL,KACZ,GAAIA,KAAKmP,MAAO,CACZnP,KAAKwI,kBAAmB,EACxBxI,KAAKmP,MAAMlN,UAAS,WAChBqJ,EAAM9C,kBAAmB,IAC1B,CAAEwH,iBAAiB,IAEtB,IAAIC,EAAe,GAAoB,KAAQ,KAS1CH,EAKDG,GAAgB,YAAwB,CAAC,EAAG,GAAI,CAAC,IAAM,KAAO,CAAC,EAAG,GAAI,CAAC,EAAG,GAAIL,GAAW,IAJzF5P,KAAKmP,MAAMe,OAAO,kCAClBD,GAAgB,YAAwB,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,IAAM,KAAO,CAAC,EAAG,GAAIL,GAAW,IAK7F5P,KAAKmP,MAAMgB,YAAYL,EAAiB,EAAI,EAAGG,EAAcF,KAGrE7H,EAAQlB,UAAUoJ,OAAS,WACvB,OAAQ,WAAD,CAAG,OAAQ,OAEtB7J,OAAO8J,eAAenI,EAAQlB,UAAW,KAAM,CAC3CoI,IAAK,WAAc,OAAO,YAAWpP,OACrCsQ,YAAY,EACZC,cAAc,IAElBhK,OAAO8J,eAAenI,EAAS,WAAY,CACvCkH,IAAK,WACD,MAAO,CACH,aAAgB,CAAC,uBACjB,KAAQ,CAAC,iBAGjBkB,YAAY,EACZC,cAAc,IAEXrI,EA5zBa,GA8zBxBD,EAAI3E,MA/zBS,6GAg0Bb,IAmBIkN,EAAyB,WACzB,SAASA,EAAQrI,GACb,IAAImD,EAAQtL,KACZ,YAAiBA,KAAMmI,GAIvBnI,KAAKyQ,gBAAkB,UACvBzQ,KAAK0Q,QAAU,WACX,OA5BE,SAAUpO,EAAImO,EAAiB3K,EAAWE,EAAgB2K,GACpE,IAAIxJ,EAAM7E,EAAGgH,QAAQ,WACrB,GAAInC,EACA,GAAwB,YAApBsJ,GACA,QAAkBlQ,IAAduF,EACA,OAAOqB,EAAI8C,KAAKnE,EAAWE,EAAgB,CAAEgH,YAAY,EAAMjN,iBAAkB4Q,SAGpF,GAAwB,SAApBF,GACL,QAAkBlQ,IAAduF,EACA,OAAOqB,EAAI+B,QAAQpD,EAAWE,EAAgB,CAAEgH,YAAY,EAAMjN,iBAAkB4Q,SAGvF,GAAwB,SAApBF,EACL,OAAOtJ,EAAIuD,IAAI,CAAEsC,YAAY,EAAMjN,iBAAkB4Q,IAG7D,OAAOhS,QAAQC,SAAQ,GAWRgS,CAAQtF,EAAMhJ,GAAIgJ,EAAMmF,gBAAiBnF,EAAMxF,UAAWwF,EAAMtF,eAAgBsF,EAAMqF,kBAWrG,OARAH,EAAQxJ,UAAUoJ,OAAS,WACvB,OAAQ,WAAD,CAAG,IAAM,CAAEM,QAAS1Q,KAAK0Q,WAEpCnK,OAAO8J,eAAeG,EAAQxJ,UAAW,KAAM,CAC3CoI,IAAK,WAAc,OAAO,YAAWpP,OACrCsQ,YAAY,EACZC,cAAc,IAEXC,EApBiB,I,gCCn8B5B,oaAUIK,EAAiB,SAAUvO,EAAIwO,GAE/B,YADiB,IAAbA,IAAuBA,EAAWxO,GAC/BA,EAAGyO,YAAcD,GAMxBE,EAAM,SAAUC,GAChB,MAAoD,mBAAzCC,qCACAA,qCAAqCD,GAEX,mBAA1BE,sBACAA,sBAAsBF,GAE1BG,WAAWH,IAElBI,EAAe,SAAU/O,GACzB,QAASA,EAAGyO,cAAgBzO,EAAGgP,cAE/BC,EAAgB,SAAUC,GAC1B,IAAIC,EAASD,EAAYlI,QAAQ,YACjC,OAAImI,EACOA,EAAO9N,cAAc,aAEzB,MAEP+N,EAAoB,SAAUC,EAAQ9L,EAAW+L,EAAMC,EAAOC,GAC9D,GAAIH,GAAUN,EAAaxL,GAAY,CACnC,IAAIkM,EAAQlM,EAAUlC,cAAc,mBAC/BoO,KACDA,EAAQlM,EAAUO,cAAcC,cAAc,UACxC2L,KAAO,SACbD,EAAMpS,UAAUC,IAAI,aACpBiG,EAAUY,YAAYsL,IAE1BA,EAAMD,SAAWA,EACjBC,EAAMH,KAAOA,EACbG,EAAMF,MAAQA,GAAS,KAG3BI,EAAQ,SAAUC,EAAKC,EAAGC,GAC1B,OAAO9N,KAAK8N,IAAIF,EAAK5N,KAAK4N,IAAIC,EAAGC,KAEjCC,EAAS,SAAUC,EAAQC,GAC3B,IAAKD,EAAQ,CACT,IAAIE,EAAU,WAAaD,EAG3B,MAFA9D,QAAQpP,MAAMmT,GAER,IAAIrM,MAAMqM,KAGpBC,EAAM,SAAUjQ,GAChB,OAAOA,EAAGkQ,WAAaC,KAAKF,OAE5BG,EAAe,SAAUpQ,GAGzB,GAAIA,EAAI,CACJ,IAAIqQ,EAAiBrQ,EAAGqQ,eACxB,GAAIA,GAAkBA,EAAelL,OAAS,EAAG,CAC7C,IAAImL,EAAQD,EAAe,GAC3B,MAAO,CAAEE,EAAGD,EAAME,QAASC,EAAGH,EAAMI,SAExC,QAAiB3S,IAAbiC,EAAG2Q,MACH,MAAO,CAAEJ,EAAGvQ,EAAG2Q,MAAOF,EAAGzQ,EAAG4Q,OAGpC,MAAO,CAAEL,EAAG,EAAGE,EAAG,IASlBI,EAAY,SAAUC,GACtB,IAAIC,EAAyB,QAAjBlK,SAASmK,IACrB,OAAQF,GACJ,IAAK,QAAS,OAAOC,EACrB,IAAK,MAAO,OAAQA,EACpB,QACI,MAAM,IAAIpN,MAAM,IAAOmN,EAAO,sEAGtCG,EAAgB,SAAUC,EAAOC,GACjC,IAAIC,EAAWF,EAAMG,WAAaH,EAClC,MAAO,CACHG,UAAWH,EACXlK,KAAMsK,EAASF,EAASpK,KAAKI,KAAKgK,GAAWD,KAGjDG,EAAW,SAAUC,EAAMJ,GAE3B,IAAIK,EACJ,YAFa,IAATL,IAAmBA,EAAO,GAEvB,WAEH,IADA,IAAIM,EAAO,GACFrM,EAAK,EAAGA,EAAKsM,UAAUvM,OAAQC,IACpCqM,EAAKrM,GAAMsM,UAAUtM,GAEzBuM,aAAaH,GACbA,EAAQ5C,WAAWgD,WAAM,EAAQ,YAAe,CAACL,EAAMJ,GAAOM","file":"16.js","sourcesContent":["import { __awaiter, __generator } from \"tslib\";\nimport { c as writeTask, B as Build } from './index-92848855.js';\nvar LIFECYCLE_WILL_ENTER = 'ionViewWillEnter';\nvar LIFECYCLE_DID_ENTER = 'ionViewDidEnter';\nvar LIFECYCLE_WILL_LEAVE = 'ionViewWillLeave';\nvar LIFECYCLE_DID_LEAVE = 'ionViewDidLeave';\nvar LIFECYCLE_WILL_UNLOAD = 'ionViewWillUnload';\nvar iosTransitionAnimation = function () { return import('./ios.transition-587709a3.js'); };\nvar mdTransitionAnimation = function () { return import('./md.transition-4ff6b28e.js'); };\nvar transition = function (opts) {\n    return new Promise(function (resolve, reject) {\n        writeTask(function () {\n            beforeTransition(opts);\n            runTransition(opts).then(function (result) {\n                if (result.animation) {\n                    result.animation.destroy();\n                }\n                afterTransition(opts);\n                resolve(result);\n            }, function (error) {\n                afterTransition(opts);\n                reject(error);\n            });\n        });\n    });\n};\nvar beforeTransition = function (opts) {\n    var enteringEl = opts.enteringEl;\n    var leavingEl = opts.leavingEl;\n    setZIndex(enteringEl, leavingEl, opts.direction);\n    if (opts.showGoBack) {\n        enteringEl.classList.add('can-go-back');\n    }\n    else {\n        enteringEl.classList.remove('can-go-back');\n    }\n    setPageHidden(enteringEl, false);\n    if (leavingEl) {\n        setPageHidden(leavingEl, false);\n    }\n};\nvar runTransition = function (opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var animationBuilder, ani;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, getAnimationBuilder(opts)];\n            case 1:\n                animationBuilder = _a.sent();\n                ani = (animationBuilder && Build.isBrowser)\n                    ? animation(animationBuilder, opts)\n                    : noAnimation(opts);\n                return [2 /*return*/, ani];\n        }\n    });\n}); };\nvar afterTransition = function (opts) {\n    var enteringEl = opts.enteringEl;\n    var leavingEl = opts.leavingEl;\n    enteringEl.classList.remove('ion-page-invisible');\n    if (leavingEl !== undefined) {\n        leavingEl.classList.remove('ion-page-invisible');\n    }\n};\nvar getAnimationBuilder = function (opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var getAnimation, _a;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                if (!opts.leavingEl || !opts.animated || opts.duration === 0) {\n                    return [2 /*return*/, undefined];\n                }\n                if (opts.animationBuilder) {\n                    return [2 /*return*/, opts.animationBuilder];\n                }\n                if (!(opts.mode === 'ios')) return [3 /*break*/, 2];\n                return [4 /*yield*/, iosTransitionAnimation()];\n            case 1:\n                _a = (_b.sent()).iosTransitionAnimation;\n                return [3 /*break*/, 4];\n            case 2: return [4 /*yield*/, mdTransitionAnimation()];\n            case 3:\n                _a = (_b.sent()).mdTransitionAnimation;\n                _b.label = 4;\n            case 4:\n                getAnimation = _a;\n                return [2 /*return*/, getAnimation];\n        }\n    });\n}); };\nvar animation = function (animationBuilder, opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var trans, didComplete;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, waitForReady(opts, true)];\n            case 1:\n                _a.sent();\n                trans = animationBuilder(opts.baseEl, opts);\n                fireWillEvents(opts.enteringEl, opts.leavingEl);\n                return [4 /*yield*/, playTransition(trans, opts)];\n            case 2:\n                didComplete = _a.sent();\n                if (opts.progressCallback) {\n                    opts.progressCallback(undefined);\n                }\n                if (didComplete) {\n                    fireDidEvents(opts.enteringEl, opts.leavingEl);\n                }\n                return [2 /*return*/, {\n                        hasCompleted: didComplete,\n                        animation: trans\n                    }];\n        }\n    });\n}); };\nvar noAnimation = function (opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var enteringEl, leavingEl;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                enteringEl = opts.enteringEl;\n                leavingEl = opts.leavingEl;\n                return [4 /*yield*/, waitForReady(opts, false)];\n            case 1:\n                _a.sent();\n                fireWillEvents(enteringEl, leavingEl);\n                fireDidEvents(enteringEl, leavingEl);\n                return [2 /*return*/, {\n                        hasCompleted: true\n                    }];\n        }\n    });\n}); };\nvar waitForReady = function (opts, defaultDeep) { return __awaiter(void 0, void 0, void 0, function () {\n    var deep, promises;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                deep = opts.deepWait !== undefined ? opts.deepWait : defaultDeep;\n                promises = deep ? [\n                    deepReady(opts.enteringEl),\n                    deepReady(opts.leavingEl),\n                ] : [\n                    shallowReady(opts.enteringEl),\n                    shallowReady(opts.leavingEl),\n                ];\n                return [4 /*yield*/, Promise.all(promises)];\n            case 1:\n                _a.sent();\n                return [4 /*yield*/, notifyViewReady(opts.viewIsReady, opts.enteringEl)];\n            case 2:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar notifyViewReady = function (viewIsReady, enteringEl) { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!viewIsReady) return [3 /*break*/, 2];\n                return [4 /*yield*/, viewIsReady(enteringEl)];\n            case 1:\n                _a.sent();\n                _a.label = 2;\n            case 2: return [2 /*return*/];\n        }\n    });\n}); };\nvar playTransition = function (trans, opts) {\n    var progressCallback = opts.progressCallback;\n    var promise = new Promise(function (resolve) {\n        trans.onFinish(function (currentStep) { return resolve(currentStep === 1); });\n    });\n    // cool, let's do this, start the transition\n    if (progressCallback) {\n        // this is a swipe to go back, just get the transition progress ready\n        // kick off the swipe animation start\n        trans.progressStart(true);\n        progressCallback(trans);\n    }\n    else {\n        // only the top level transition should actually start \"play\"\n        // kick it off and let it play through\n        // ******** DOM WRITE ****************\n        trans.play();\n    }\n    // create a callback for when the animation is done\n    return promise;\n};\nvar fireWillEvents = function (enteringEl, leavingEl) {\n    lifecycle(leavingEl, LIFECYCLE_WILL_LEAVE);\n    lifecycle(enteringEl, LIFECYCLE_WILL_ENTER);\n};\nvar fireDidEvents = function (enteringEl, leavingEl) {\n    lifecycle(enteringEl, LIFECYCLE_DID_ENTER);\n    lifecycle(leavingEl, LIFECYCLE_DID_LEAVE);\n};\nvar lifecycle = function (el, eventName) {\n    if (el) {\n        var ev = new CustomEvent(eventName, {\n            bubbles: false,\n            cancelable: false,\n        });\n        el.dispatchEvent(ev);\n    }\n};\nvar shallowReady = function (el) {\n    if (el && el.componentOnReady) {\n        return el.componentOnReady();\n    }\n    return Promise.resolve();\n};\nvar deepReady = function (el) { return __awaiter(void 0, void 0, void 0, function () {\n    var element, stencilEl;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                element = el;\n                if (!element) return [3 /*break*/, 4];\n                if (!(element.componentOnReady != null)) return [3 /*break*/, 2];\n                return [4 /*yield*/, element.componentOnReady()];\n            case 1:\n                stencilEl = _a.sent();\n                if (stencilEl != null) {\n                    return [2 /*return*/];\n                }\n                _a.label = 2;\n            case 2: return [4 /*yield*/, Promise.all(Array.from(element.children).map(deepReady))];\n            case 3:\n                _a.sent();\n                _a.label = 4;\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\nvar setPageHidden = function (el, hidden) {\n    if (hidden) {\n        el.setAttribute('aria-hidden', 'true');\n        el.classList.add('ion-page-hidden');\n    }\n    else {\n        el.hidden = false;\n        el.removeAttribute('aria-hidden');\n        el.classList.remove('ion-page-hidden');\n    }\n};\nvar setZIndex = function (enteringEl, leavingEl, direction) {\n    if (enteringEl !== undefined) {\n        enteringEl.style.zIndex = (direction === 'back')\n            ? '99'\n            : '101';\n    }\n    if (leavingEl !== undefined) {\n        leavingEl.style.zIndex = '100';\n    }\n};\nvar getIonPageElement = function (element) {\n    if (element.classList.contains('ion-page')) {\n        return element;\n    }\n    var ionPage = element.querySelector(':scope > .ion-page, :scope > ion-nav, :scope > ion-tabs');\n    if (ionPage) {\n        return ionPage;\n    }\n    // idk, return the original element so at least something animates and we don't have a null pointer\n    return element;\n};\nexport { LIFECYCLE_WILL_ENTER as L, LIFECYCLE_DID_ENTER as a, LIFECYCLE_WILL_LEAVE as b, LIFECYCLE_DID_LEAVE as c, LIFECYCLE_WILL_UNLOAD as d, deepReady as e, getIonPageElement as g, lifecycle as l, setPageHidden as s, transition as t };\n","/**\n * Based on:\n * https://stackoverflow.com/questions/7348009/y-coordinate-for-a-given-x-cubic-bezier\n * https://math.stackexchange.com/questions/26846/is-there-an-explicit-form-for-cubic-b%C3%A9zier-curves\n * TODO: Reduce rounding error\n */\n/**\n * EXPERIMENTAL\n * Given a cubic-bezier curve, get the x value (time) given\n * the y value (progression).\n * Ex: cubic-bezier(0.32, 0.72, 0, 1);\n * P0: (0, 0)\n * P1: (0.32, 0.72)\n * P2: (0, 1)\n * P3: (1, 1)\n *\n * If you give a cubic bezier curve that never reaches the\n * provided progression, this function will return an empty array.\n */\nvar getTimeGivenProgression = function (p0, p1, p2, p3, progression) {\n    return solveCubicBezier(p0[1], p1[1], p2[1], p3[1], progression).map(function (tValue) {\n        return solveCubicParametricEquation(p0[0], p1[0], p2[0], p3[0], tValue);\n    });\n};\n/**\n * Solve a cubic equation in one dimension (time)\n */\nvar solveCubicParametricEquation = function (p0, p1, p2, p3, t) {\n    var partA = (3 * p1) * Math.pow(t - 1, 2);\n    var partB = (-3 * p2 * t) + (3 * p2) + (p3 * t);\n    var partC = p0 * Math.pow(t - 1, 3);\n    return t * (partA + (t * partB)) - partC;\n};\n/**\n * Find the `t` value for a cubic bezier using Cardano's formula\n */\nvar solveCubicBezier = function (p0, p1, p2, p3, refPoint) {\n    p0 -= refPoint;\n    p1 -= refPoint;\n    p2 -= refPoint;\n    p3 -= refPoint;\n    var roots = solveCubicEquation(p3 - 3 * p2 + 3 * p1 - p0, 3 * p2 - 6 * p1 + 3 * p0, 3 * p1 - 3 * p0, p0);\n    return roots.filter(function (root) { return root >= 0 && root <= 1; });\n};\nvar solveQuadraticEquation = function (a, b, c) {\n    var discriminant = b * b - 4 * a * c;\n    if (discriminant < 0) {\n        return [];\n    }\n    else {\n        return [\n            (-b + Math.sqrt(discriminant)) / (2 * a),\n            (-b - Math.sqrt(discriminant)) / (2 * a)\n        ];\n    }\n};\nvar solveCubicEquation = function (a, b, c, d) {\n    if (a === 0) {\n        return solveQuadraticEquation(b, c, d);\n    }\n    b /= a;\n    c /= a;\n    d /= a;\n    var p = (3 * c - b * b) / 3;\n    var q = (2 * b * b * b - 9 * b * c + 27 * d) / 27;\n    if (p === 0) {\n        return [Math.pow(-q, 1 / 3)];\n    }\n    else if (q === 0) {\n        return [Math.sqrt(-p), -Math.sqrt(-p)];\n    }\n    var discriminant = Math.pow(q / 2, 2) + Math.pow(p / 3, 3);\n    if (discriminant === 0) {\n        return [Math.pow(q / 2, 1 / 2) - b / 3];\n    }\n    else if (discriminant > 0) {\n        return [Math.pow(-(q / 2) + Math.sqrt(discriminant), 1 / 3) - Math.pow((q / 2) + Math.sqrt(discriminant), 1 / 3) - b / 3];\n    }\n    var r = Math.sqrt(Math.pow(-(p / 3), 3));\n    var phi = Math.acos(-(q / (2 * Math.sqrt(Math.pow(-(p / 3), 3)))));\n    var s = 2 * Math.pow(r, 1 / 3);\n    return [\n        s * Math.cos(phi / 3) - b / 3,\n        s * Math.cos((phi + 2 * Math.PI) / 3) - b / 3,\n        s * Math.cos((phi + 4 * Math.PI) / 3) - b / 3\n    ];\n};\nexport { getTimeGivenProgression as g };\n","import { __awaiter, __generator } from \"tslib\";\nvar attachComponent = function (delegate, container, component, cssClasses, componentProps) { return __awaiter(void 0, void 0, void 0, function () {\n    var el;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (delegate) {\n                    return [2 /*return*/, delegate.attachViewToDom(container, component, componentProps, cssClasses)];\n                }\n                if (typeof component !== 'string' && !(component instanceof HTMLElement)) {\n                    throw new Error('framework delegate is missing');\n                }\n                el = (typeof component === 'string')\n                    ? container.ownerDocument && container.ownerDocument.createElement(component)\n                    : component;\n                if (cssClasses) {\n                    cssClasses.forEach(function (c) { return el.classList.add(c); });\n                }\n                if (componentProps) {\n                    Object.assign(el, componentProps);\n                }\n                container.appendChild(el);\n                if (!el.componentOnReady) return [3 /*break*/, 2];\n                return [4 /*yield*/, el.componentOnReady()];\n            case 1:\n                _a.sent();\n                _a.label = 2;\n            case 2: return [2 /*return*/, el];\n        }\n    });\n}); };\nvar detachComponent = function (delegate, element) {\n    if (element) {\n        if (delegate) {\n            var container = element.parentElement;\n            return delegate.removeViewFromDom(container, element);\n        }\n        element.remove();\n    }\n    return Promise.resolve();\n};\nexport { attachComponent as a, detachComponent as d };\n","import { __awaiter, __generator } from \"tslib\";\nimport { r as registerInstance, e as createEvent, h, i as getElement, H as Host } from './index-92848855.js';\nimport { b as getIonMode, c as config } from './ionic-global-23e7365a.js';\nimport { b as assert } from './helpers-5c745fbd.js';\nimport { l as lifecycle, t as transition, s as setPageHidden, d as LIFECYCLE_WILL_UNLOAD, b as LIFECYCLE_WILL_LEAVE, c as LIFECYCLE_DID_LEAVE } from './index-9b2fc761.js';\nimport { g as getTimeGivenProgression } from './cubic-bezier-685f606a.js';\nimport { a as attachComponent } from './framework-delegate-d1eb6504.js';\nvar VIEW_STATE_NEW = 1;\nvar VIEW_STATE_ATTACHED = 2;\nvar VIEW_STATE_DESTROYED = 3;\nvar ViewController = /** @class */ (function () {\n    function ViewController(component, params) {\n        this.component = component;\n        this.params = params;\n        this.state = VIEW_STATE_NEW;\n    }\n    ViewController.prototype.init = function (container) {\n        return __awaiter(this, void 0, void 0, function () {\n            var component, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        this.state = VIEW_STATE_ATTACHED;\n                        if (!!this.element) return [3 /*break*/, 2];\n                        component = this.component;\n                        _a = this;\n                        return [4 /*yield*/, attachComponent(this.delegate, container, component, ['ion-page', 'ion-page-invisible'], this.params)];\n                    case 1:\n                        _a.element = _b.sent();\n                        _b.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * DOM WRITE\n     */\n    ViewController.prototype._destroy = function () {\n        assert(this.state !== VIEW_STATE_DESTROYED, 'view state must be ATTACHED');\n        var element = this.element;\n        if (element) {\n            if (this.delegate) {\n                this.delegate.removeViewFromDom(element.parentElement, element);\n            }\n            else {\n                element.remove();\n            }\n        }\n        this.nav = undefined;\n        this.state = VIEW_STATE_DESTROYED;\n    };\n    return ViewController;\n}());\nvar matches = function (view, id, params) {\n    if (!view) {\n        return false;\n    }\n    if (view.component !== id) {\n        return false;\n    }\n    var currentParams = view.params;\n    if (currentParams === params) {\n        return true;\n    }\n    if (!currentParams && !params) {\n        return true;\n    }\n    if (!currentParams || !params) {\n        return false;\n    }\n    var keysA = Object.keys(currentParams);\n    var keysB = Object.keys(params);\n    if (keysA.length !== keysB.length) {\n        return false;\n    }\n    // Test for A's keys different from B.\n    for (var _i = 0, keysA_1 = keysA; _i < keysA_1.length; _i++) {\n        var key = keysA_1[_i];\n        if (currentParams[key] !== params[key]) {\n            return false;\n        }\n    }\n    return true;\n};\nvar convertToView = function (page, params) {\n    if (!page) {\n        return null;\n    }\n    if (page instanceof ViewController) {\n        return page;\n    }\n    return new ViewController(page, params);\n};\nvar convertToViews = function (pages) {\n    return pages.map(function (page) {\n        if (page instanceof ViewController) {\n            return page;\n        }\n        if ('component' in page) {\n            /**\n             * TODO Ionic 6:\n             * Consider switching to just using `undefined` here\n             * as well as on the public interfaces and on\n             * `NavComponentWithProps`. Previously `pages` was\n             * of type `any[]` so TypeScript did not catch this.\n             */\n            return convertToView(page.component, (page.componentProps === null) ? undefined : page.componentProps);\n        }\n        return convertToView(page, undefined);\n    }).filter(function (v) { return v !== null; });\n};\nvar navCss = \":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}\";\nvar Nav = /** @class */ (function () {\n    function class_1(hostRef) {\n        registerInstance(this, hostRef);\n        this.ionNavWillLoad = createEvent(this, \"ionNavWillLoad\", 7);\n        this.ionNavWillChange = createEvent(this, \"ionNavWillChange\", 3);\n        this.ionNavDidChange = createEvent(this, \"ionNavDidChange\", 3);\n        this.transInstr = [];\n        this.animationEnabled = true;\n        this.useRouter = false;\n        this.isTransitioning = false;\n        this.destroyed = false;\n        this.views = [];\n        /**\n         * If `true`, the nav should animate the transition of components.\n         */\n        this.animated = true;\n    }\n    class_1.prototype.swipeGestureChanged = function () {\n        if (this.gesture) {\n            this.gesture.enable(this.swipeGesture === true);\n        }\n    };\n    class_1.prototype.rootChanged = function () {\n        if (this.root !== undefined) {\n            if (!this.useRouter) {\n                this.setRoot(this.root, this.rootParams);\n            }\n        }\n    };\n    class_1.prototype.componentWillLoad = function () {\n        this.useRouter =\n            !!document.querySelector('ion-router') &&\n                !this.el.closest('[no-router]');\n        if (this.swipeGesture === undefined) {\n            var mode = getIonMode(this);\n            this.swipeGesture = config.getBoolean('swipeBackEnabled', mode === 'ios');\n        }\n        this.ionNavWillLoad.emit();\n    };\n    class_1.prototype.componentDidLoad = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        this.rootChanged();\n                        _a = this;\n                        return [4 /*yield*/, import('./swipe-back-0a6a44c8.js')];\n                    case 1:\n                        _a.gesture = (_b.sent()).createSwipeBackGesture(this.el, this.canStart.bind(this), this.onStart.bind(this), this.onMove.bind(this), this.onEnd.bind(this));\n                        this.swipeGestureChanged();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.disconnectedCallback = function () {\n        for (var _i = 0, _a = this.views; _i < _a.length; _i++) {\n            var view = _a[_i];\n            lifecycle(view.element, LIFECYCLE_WILL_UNLOAD);\n            view._destroy();\n        }\n        if (this.gesture) {\n            this.gesture.destroy();\n            this.gesture = undefined;\n        }\n        // release swipe back gesture and transition\n        this.transInstr.length = this.views.length = 0;\n        this.destroyed = true;\n    };\n    /**\n     * Push a new component onto the current navigation stack. Pass any additional\n     * information along as an object. This additional information is accessible\n     * through NavParams.\n     *\n     * @param component The component to push onto the navigation stack.\n     * @param componentProps Any properties of the component.\n     * @param opts The navigation options.\n     * @param done The transition complete function.\n     */\n    class_1.prototype.push = function (component, componentProps, opts, done) {\n        return this.queueTrns({\n            insertStart: -1,\n            insertViews: [{ component: component, componentProps: componentProps }],\n            opts: opts\n        }, done);\n    };\n    /**\n     * Inserts a component into the navigation stack at the specified index.\n     * This is useful to add a component at any point in the navigation stack.\n     *\n     * @param insertIndex The index to insert the component at in the stack.\n     * @param component The component to insert into the navigation stack.\n     * @param componentProps Any properties of the component.\n     * @param opts The navigation options.\n     * @param done The transition complete function.\n     */\n    class_1.prototype.insert = function (insertIndex, component, componentProps, opts, done) {\n        return this.queueTrns({\n            insertStart: insertIndex,\n            insertViews: [{ component: component, componentProps: componentProps }],\n            opts: opts\n        }, done);\n    };\n    /**\n     * Inserts an array of components into the navigation stack at the specified index.\n     * The last component in the array will become instantiated as a view, and animate\n     * in to become the active view.\n     *\n     * @param insertIndex The index to insert the components at in the stack.\n     * @param insertComponents The components to insert into the navigation stack.\n     * @param opts The navigation options.\n     * @param done The transition complete function.\n     */\n    class_1.prototype.insertPages = function (insertIndex, insertComponents, opts, done) {\n        return this.queueTrns({\n            insertStart: insertIndex,\n            insertViews: insertComponents,\n            opts: opts\n        }, done);\n    };\n    /**\n     * Pop a component off of the navigation stack. Navigates back from the current\n     * component.\n     *\n     * @param opts The navigation options.\n     * @param done The transition complete function.\n     */\n    class_1.prototype.pop = function (opts, done) {\n        return this.queueTrns({\n            removeStart: -1,\n            removeCount: 1,\n            opts: opts\n        }, done);\n    };\n    /**\n     * Pop to a specific index in the navigation stack.\n     *\n     * @param indexOrViewCtrl The index or view controller to pop to.\n     * @param opts The navigation options.\n     * @param done The transition complete function.\n     */\n    class_1.prototype.popTo = function (indexOrViewCtrl, opts, done) {\n        var tiConfig = {\n            removeStart: -1,\n            removeCount: -1,\n            opts: opts\n        };\n        if (typeof indexOrViewCtrl === 'object' && indexOrViewCtrl.component) {\n            tiConfig.removeView = indexOrViewCtrl;\n            tiConfig.removeStart = 1;\n        }\n        else if (typeof indexOrViewCtrl === 'number') {\n            tiConfig.removeStart = indexOrViewCtrl + 1;\n        }\n        return this.queueTrns(tiConfig, done);\n    };\n    /**\n     * Navigate back to the root of the stack, no matter how far back that is.\n     *\n     * @param opts The navigation options.\n     * @param done The transition complete function.\n     */\n    class_1.prototype.popToRoot = function (opts, done) {\n        return this.queueTrns({\n            removeStart: 1,\n            removeCount: -1,\n            opts: opts\n        }, done);\n    };\n    /**\n     * Removes a component from the navigation stack at the specified index.\n     *\n     * @param startIndex The number to begin removal at.\n     * @param removeCount The number of components to remove.\n     * @param opts The navigation options.\n     * @param done The transition complete function.\n     */\n    class_1.prototype.removeIndex = function (startIndex, removeCount, opts, done) {\n        if (removeCount === void 0) { removeCount = 1; }\n        return this.queueTrns({\n            removeStart: startIndex,\n            removeCount: removeCount,\n            opts: opts\n        }, done);\n    };\n    /**\n     * Set the root for the current navigation stack to a component.\n     *\n     * @param component The component to set as the root of the navigation stack.\n     * @param componentProps Any properties of the component.\n     * @param opts The navigation options.\n     * @param done The transition complete function.\n     */\n    class_1.prototype.setRoot = function (component, componentProps, opts, done) {\n        return this.setPages([{ component: component, componentProps: componentProps }], opts, done);\n    };\n    /**\n     * Set the views of the current navigation stack and navigate to the last view.\n     * By default animations are disabled, but they can be enabled by passing options\n     * to the navigation controller. Navigation parameters can also be passed to the\n     * individual pages in the array.\n     *\n     * @param views The list of views to set as the navigation stack.\n     * @param opts The navigation options.\n     * @param done The transition complete function.\n     */\n    class_1.prototype.setPages = function (views, opts, done) {\n        if (opts == null) {\n            opts = {};\n        }\n        // if animation wasn't set to true then default it to NOT animate\n        if (opts.animated !== true) {\n            opts.animated = false;\n        }\n        return this.queueTrns({\n            insertStart: 0,\n            insertViews: views,\n            removeStart: 0,\n            removeCount: -1,\n            opts: opts\n        }, done);\n    };\n    /** @internal */\n    class_1.prototype.setRouteId = function (id, params, direction, animation) {\n        var _this = this;\n        var active = this.getActiveSync();\n        if (matches(active, id, params)) {\n            return Promise.resolve({\n                changed: false,\n                element: active.element\n            });\n        }\n        var resolve;\n        var promise = new Promise(function (r) { return (resolve = r); });\n        var finish;\n        var commonOpts = {\n            updateURL: false,\n            viewIsReady: function (enteringEl) {\n                var mark;\n                var p = new Promise(function (r) { return (mark = r); });\n                resolve({\n                    changed: true,\n                    element: enteringEl,\n                    markVisible: function () { return __awaiter(_this, void 0, void 0, function () {\n                        return __generator(this, function (_a) {\n                            switch (_a.label) {\n                                case 0:\n                                    mark();\n                                    return [4 /*yield*/, finish];\n                                case 1:\n                                    _a.sent();\n                                    return [2 /*return*/];\n                            }\n                        });\n                    }); }\n                });\n                return p;\n            }\n        };\n        if (direction === 'root') {\n            finish = this.setRoot(id, params, commonOpts);\n        }\n        else {\n            var viewController = this.views.find(function (v) { return matches(v, id, params); });\n            if (viewController) {\n                finish = this.popTo(viewController, Object.assign(Object.assign({}, commonOpts), { direction: 'back', animationBuilder: animation }));\n            }\n            else if (direction === 'forward') {\n                finish = this.push(id, params, Object.assign(Object.assign({}, commonOpts), { animationBuilder: animation }));\n            }\n            else if (direction === 'back') {\n                finish = this.setRoot(id, params, Object.assign(Object.assign({}, commonOpts), { direction: 'back', animated: true, animationBuilder: animation }));\n            }\n        }\n        return promise;\n    };\n    /** @internal */\n    class_1.prototype.getRouteId = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var active;\n            return __generator(this, function (_a) {\n                active = this.getActiveSync();\n                return [2 /*return*/, active\n                        ? {\n                            id: active.element.tagName,\n                            params: active.params,\n                            element: active.element\n                        }\n                        : undefined];\n            });\n        });\n    };\n    /**\n     * Get the active view.\n     */\n    class_1.prototype.getActive = function () {\n        return Promise.resolve(this.getActiveSync());\n    };\n    /**\n     * Get the view at the specified index.\n     *\n     * @param index The index of the view.\n     */\n    class_1.prototype.getByIndex = function (index) {\n        return Promise.resolve(this.views[index]);\n    };\n    /**\n     * Returns `true` if the current view can go back.\n     *\n     * @param view The view to check.\n     */\n    class_1.prototype.canGoBack = function (view) {\n        return Promise.resolve(this.canGoBackSync(view));\n    };\n    /**\n     * Get the previous view.\n     *\n     * @param view The view to get.\n     */\n    class_1.prototype.getPrevious = function (view) {\n        return Promise.resolve(this.getPreviousSync(view));\n    };\n    class_1.prototype.getLength = function () {\n        return this.views.length;\n    };\n    class_1.prototype.getActiveSync = function () {\n        return this.views[this.views.length - 1];\n    };\n    class_1.prototype.canGoBackSync = function (view) {\n        if (view === void 0) { view = this.getActiveSync(); }\n        return !!(view && this.getPreviousSync(view));\n    };\n    class_1.prototype.getPreviousSync = function (view) {\n        if (view === void 0) { view = this.getActiveSync(); }\n        if (!view) {\n            return undefined;\n        }\n        var views = this.views;\n        var index = views.indexOf(view);\n        return index > 0 ? views[index - 1] : undefined;\n    };\n    // _queueTrns() adds a navigation stack change to the queue and schedules it to run:\n    // 1. _nextTrns(): consumes the next transition in the queue\n    // 2. _viewInit(): initializes enteringView if required\n    // 3. _viewTest(): ensures canLeave/canEnter Returns `true`, so the operation can continue\n    // 4. _postViewInit(): add/remove the views from the navigation stack\n    // 5. _transitionInit(): initializes the visual transition if required and schedules it to run\n    // 6. _viewAttachToDOM(): attaches the enteringView to the DOM\n    // 7. _transitionStart(): called once the transition actually starts, it initializes the Animation underneath.\n    // 8. _transitionFinish(): called once the transition finishes\n    // 9. _cleanup(): syncs the navigation internal state with the DOM. For example it removes the pages from the DOM or hides/show them.\n    class_1.prototype.queueTrns = function (ti, done) {\n        return __awaiter(this, void 0, void 0, function () {\n            var promise, router, canTransition;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.isTransitioning && ti.opts != null && ti.opts.skipIfBusy) {\n                            return [2 /*return*/, Promise.resolve(false)];\n                        }\n                        promise = new Promise(function (resolve, reject) {\n                            ti.resolve = resolve;\n                            ti.reject = reject;\n                        });\n                        ti.done = done;\n                        if (!(ti.opts && ti.opts.updateURL !== false && this.useRouter)) return [3 /*break*/, 2];\n                        router = document.querySelector('ion-router');\n                        if (!router) return [3 /*break*/, 2];\n                        return [4 /*yield*/, router.canTransition()];\n                    case 1:\n                        canTransition = _a.sent();\n                        if (canTransition === false) {\n                            return [2 /*return*/, Promise.resolve(false)];\n                        }\n                        else if (typeof canTransition === 'string') {\n                            router.push(canTransition, ti.opts.direction || 'back');\n                            return [2 /*return*/, Promise.resolve(false)];\n                        }\n                        _a.label = 2;\n                    case 2:\n                        // Normalize empty\n                        if (ti.insertViews && ti.insertViews.length === 0) {\n                            ti.insertViews = undefined;\n                        }\n                        // Enqueue transition instruction\n                        this.transInstr.push(ti);\n                        // if there isn't a transition already happening\n                        // then this will kick off this transition\n                        this.nextTrns();\n                        return [2 /*return*/, promise];\n                }\n            });\n        });\n    };\n    class_1.prototype.success = function (result, ti) {\n        if (this.destroyed) {\n            this.fireError('nav controller was destroyed', ti);\n            return;\n        }\n        if (ti.done) {\n            ti.done(result.hasCompleted, result.requiresTransition, result.enteringView, result.leavingView, result.direction);\n        }\n        ti.resolve(result.hasCompleted);\n        if (ti.opts.updateURL !== false && this.useRouter) {\n            var router = document.querySelector('ion-router');\n            if (router) {\n                var direction = result.direction === 'back' ? 'back' : 'forward';\n                router.navChanged(direction);\n            }\n        }\n    };\n    class_1.prototype.failed = function (rejectReason, ti) {\n        if (this.destroyed) {\n            this.fireError('nav controller was destroyed', ti);\n            return;\n        }\n        this.transInstr.length = 0;\n        this.fireError(rejectReason, ti);\n    };\n    class_1.prototype.fireError = function (rejectReason, ti) {\n        if (ti.done) {\n            ti.done(false, false, rejectReason);\n        }\n        if (ti.reject && !this.destroyed) {\n            ti.reject(rejectReason);\n        }\n        else {\n            ti.resolve(false);\n        }\n    };\n    class_1.prototype.nextTrns = function () {\n        // this is the framework's bread 'n butta function\n        // only one transition is allowed at any given time\n        if (this.isTransitioning) {\n            return false;\n        }\n        // there is no transition happening right now\n        // get the next instruction\n        var ti = this.transInstr.shift();\n        if (!ti) {\n            return false;\n        }\n        this.runTransition(ti);\n        return true;\n    };\n    class_1.prototype.runTransition = function (ti) {\n        return __awaiter(this, void 0, void 0, function () {\n            var leavingView, enteringView, requiresTransition, isBackDirection, result, _a, rejectReason_1;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 6, , 7]);\n                        // set that this nav is actively transitioning\n                        this.ionNavWillChange.emit();\n                        this.isTransitioning = true;\n                        this.prepareTI(ti);\n                        leavingView = this.getActiveSync();\n                        enteringView = this.getEnteringView(ti, leavingView);\n                        if (!leavingView && !enteringView) {\n                            throw new Error('no views in the stack to be removed');\n                        }\n                        if (!(enteringView && enteringView.state === VIEW_STATE_NEW)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, enteringView.init(this.el)];\n                    case 1:\n                        _b.sent();\n                        _b.label = 2;\n                    case 2:\n                        this.postViewInit(enteringView, leavingView, ti);\n                        requiresTransition = (ti.enteringRequiresTransition || ti.leavingRequiresTransition) &&\n                            enteringView !== leavingView;\n                        if (requiresTransition && ti.opts && leavingView) {\n                            isBackDirection = ti.opts.direction === 'back';\n                            /**\n                             * If heading back, use the entering page's animation\n                             * unless otherwise specified by the developer.\n                             */\n                            if (isBackDirection) {\n                                ti.opts.animationBuilder = ti.opts.animationBuilder || (enteringView && enteringView.animationBuilder);\n                            }\n                            leavingView.animationBuilder = ti.opts.animationBuilder;\n                        }\n                        if (!requiresTransition) return [3 /*break*/, 4];\n                        return [4 /*yield*/, this.transition(enteringView, leavingView, ti)];\n                    case 3:\n                        _a = _b.sent();\n                        return [3 /*break*/, 5];\n                    case 4:\n                        _a = {\n                            // transition is not required, so we are already done!\n                            // they're inserting/removing the views somewhere in the middle or\n                            // beginning, so visually nothing needs to animate/transition\n                            // resolve immediately because there's no animation that's happening\n                            hasCompleted: true,\n                            requiresTransition: false\n                        };\n                        _b.label = 5;\n                    case 5:\n                        result = _a;\n                        this.success(result, ti);\n                        this.ionNavDidChange.emit();\n                        return [3 /*break*/, 7];\n                    case 6:\n                        rejectReason_1 = _b.sent();\n                        this.failed(rejectReason_1, ti);\n                        return [3 /*break*/, 7];\n                    case 7:\n                        this.isTransitioning = false;\n                        this.nextTrns();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.prepareTI = function (ti) {\n        var viewsLength = this.views.length;\n        ti.opts = ti.opts || {};\n        if (ti.opts.delegate === undefined) {\n            ti.opts.delegate = this.delegate;\n        }\n        if (ti.removeView !== undefined) {\n            assert(ti.removeStart !== undefined, 'removeView needs removeStart');\n            assert(ti.removeCount !== undefined, 'removeView needs removeCount');\n            var index = this.views.indexOf(ti.removeView);\n            if (index < 0) {\n                throw new Error('removeView was not found');\n            }\n            ti.removeStart += index;\n        }\n        if (ti.removeStart !== undefined) {\n            if (ti.removeStart < 0) {\n                ti.removeStart = viewsLength - 1;\n            }\n            if (ti.removeCount < 0) {\n                ti.removeCount = viewsLength - ti.removeStart;\n            }\n            ti.leavingRequiresTransition =\n                ti.removeCount > 0 && ti.removeStart + ti.removeCount === viewsLength;\n        }\n        if (ti.insertViews) {\n            // allow -1 to be passed in to auto push it on the end\n            // and clean up the index if it's larger then the size of the stack\n            if (ti.insertStart < 0 || ti.insertStart > viewsLength) {\n                ti.insertStart = viewsLength;\n            }\n            ti.enteringRequiresTransition = ti.insertStart === viewsLength;\n        }\n        var insertViews = ti.insertViews;\n        if (!insertViews) {\n            return;\n        }\n        assert(insertViews.length > 0, 'length can not be zero');\n        var viewControllers = convertToViews(insertViews);\n        if (viewControllers.length === 0) {\n            throw new Error('invalid views to insert');\n        }\n        // Check all the inserted view are correct\n        for (var _i = 0, viewControllers_1 = viewControllers; _i < viewControllers_1.length; _i++) {\n            var view = viewControllers_1[_i];\n            view.delegate = ti.opts.delegate;\n            var nav = view.nav;\n            if (nav && nav !== this) {\n                throw new Error('inserted view was already inserted');\n            }\n            if (view.state === VIEW_STATE_DESTROYED) {\n                throw new Error('inserted view was already destroyed');\n            }\n        }\n        ti.insertViews = viewControllers;\n    };\n    class_1.prototype.getEnteringView = function (ti, leavingView) {\n        var insertViews = ti.insertViews;\n        if (insertViews !== undefined) {\n            // grab the very last view of the views to be inserted\n            // and initialize it as the new entering view\n            return insertViews[insertViews.length - 1];\n        }\n        var removeStart = ti.removeStart;\n        if (removeStart !== undefined) {\n            var views = this.views;\n            var removeEnd = removeStart + ti.removeCount;\n            for (var i = views.length - 1; i >= 0; i--) {\n                var view = views[i];\n                if ((i < removeStart || i >= removeEnd) && view !== leavingView) {\n                    return view;\n                }\n            }\n        }\n        return undefined;\n    };\n    class_1.prototype.postViewInit = function (enteringView, leavingView, ti) {\n        assert(leavingView || enteringView, 'Both leavingView and enteringView are null');\n        assert(ti.resolve, 'resolve must be valid');\n        assert(ti.reject, 'reject must be valid');\n        var opts = ti.opts;\n        var insertViews = ti.insertViews;\n        var removeStart = ti.removeStart;\n        var removeCount = ti.removeCount;\n        var destroyQueue;\n        // there are views to remove\n        if (removeStart !== undefined && removeCount !== undefined) {\n            assert(removeStart >= 0, 'removeStart can not be negative');\n            assert(removeCount >= 0, 'removeCount can not be negative');\n            destroyQueue = [];\n            for (var i = 0; i < removeCount; i++) {\n                var view = this.views[i + removeStart];\n                if (view && view !== enteringView && view !== leavingView) {\n                    destroyQueue.push(view);\n                }\n            }\n            // default the direction to \"back\"\n            opts.direction = opts.direction || 'back';\n        }\n        var finalBalance = this.views.length +\n            (insertViews !== undefined ? insertViews.length : 0) -\n            (removeCount !== undefined ? removeCount : 0);\n        assert(finalBalance >= 0, 'final balance can not be negative');\n        if (finalBalance === 0) {\n            console.warn(\"You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.\", this, this.el);\n            throw new Error('navigation stack needs at least one root page');\n        }\n        // At this point the transition can not be rejected, any throw should be an error\n        // there are views to insert\n        if (insertViews) {\n            // add the views to the\n            var insertIndex = ti.insertStart;\n            for (var _i = 0, insertViews_1 = insertViews; _i < insertViews_1.length; _i++) {\n                var view = insertViews_1[_i];\n                this.insertViewAt(view, insertIndex);\n                insertIndex++;\n            }\n            if (ti.enteringRequiresTransition) {\n                // default to forward if not already set\n                opts.direction = opts.direction || 'forward';\n            }\n        }\n        // if the views to be removed are in the beginning or middle\n        // and there is not a view that needs to visually transition out\n        // then just destroy them and don't transition anything\n        // batch all of lifecycles together\n        // let's make sure, callbacks are zoned\n        if (destroyQueue && destroyQueue.length > 0) {\n            for (var _a = 0, destroyQueue_1 = destroyQueue; _a < destroyQueue_1.length; _a++) {\n                var view = destroyQueue_1[_a];\n                lifecycle(view.element, LIFECYCLE_WILL_LEAVE);\n                lifecycle(view.element, LIFECYCLE_DID_LEAVE);\n                lifecycle(view.element, LIFECYCLE_WILL_UNLOAD);\n            }\n            // once all lifecycle events has been delivered, we can safely detroy the views\n            for (var _b = 0, destroyQueue_2 = destroyQueue; _b < destroyQueue_2.length; _b++) {\n                var view = destroyQueue_2[_b];\n                this.destroyView(view);\n            }\n        }\n    };\n    class_1.prototype.transition = function (enteringView, leavingView, ti) {\n        return __awaiter(this, void 0, void 0, function () {\n            var opts, progressCallback, mode, enteringEl, leavingEl, animationOpts, hasCompleted;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        opts = ti.opts;\n                        progressCallback = opts.progressAnimation\n                            ? function (ani) { return _this.sbAni = ani; }\n                            : undefined;\n                        mode = getIonMode(this);\n                        enteringEl = enteringView.element;\n                        leavingEl = leavingView && leavingView.element;\n                        animationOpts = Object.assign({ mode: mode, showGoBack: this.canGoBackSync(enteringView), baseEl: this.el, animationBuilder: this.animation || opts.animationBuilder || config.get('navAnimation'), progressCallback: progressCallback, animated: this.animated && config.getBoolean('animated', true), enteringEl: enteringEl,\n                            leavingEl: leavingEl }, opts);\n                        return [4 /*yield*/, transition(animationOpts)];\n                    case 1:\n                        hasCompleted = (_a.sent()).hasCompleted;\n                        return [2 /*return*/, this.transitionFinish(hasCompleted, enteringView, leavingView, opts)];\n                }\n            });\n        });\n    };\n    class_1.prototype.transitionFinish = function (hasCompleted, enteringView, leavingView, opts) {\n        var cleanupView = hasCompleted ? enteringView : leavingView;\n        if (cleanupView) {\n            this.cleanup(cleanupView);\n        }\n        return {\n            hasCompleted: hasCompleted,\n            requiresTransition: true,\n            enteringView: enteringView,\n            leavingView: leavingView,\n            direction: opts.direction\n        };\n    };\n    class_1.prototype.insertViewAt = function (view, index) {\n        var views = this.views;\n        var existingIndex = views.indexOf(view);\n        if (existingIndex > -1) {\n            // this view is already in the stack!!\n            // move it to its new location\n            assert(view.nav === this, 'view is not part of the nav');\n            views.splice(index, 0, views.splice(existingIndex, 1)[0]);\n        }\n        else {\n            assert(!view.nav, 'nav is used');\n            // this is a new view to add to the stack\n            // create the new entering view\n            view.nav = this;\n            // insert the entering view into the correct index in the stack\n            views.splice(index, 0, view);\n        }\n    };\n    class_1.prototype.removeView = function (view) {\n        assert(view.state === VIEW_STATE_ATTACHED || view.state === VIEW_STATE_DESTROYED, 'view state should be loaded or destroyed');\n        var views = this.views;\n        var index = views.indexOf(view);\n        assert(index > -1, 'view must be part of the stack');\n        if (index >= 0) {\n            views.splice(index, 1);\n        }\n    };\n    class_1.prototype.destroyView = function (view) {\n        view._destroy();\n        this.removeView(view);\n    };\n    /**\n     * DOM WRITE\n     */\n    class_1.prototype.cleanup = function (activeView) {\n        // ok, cleanup time!! Destroy all of the views that are\n        // INACTIVE and come after the active view\n        // only do this if the views exist, though\n        if (this.destroyed) {\n            return;\n        }\n        var views = this.views;\n        var activeViewIndex = views.indexOf(activeView);\n        for (var i = views.length - 1; i >= 0; i--) {\n            var view = views[i];\n            /**\n             * When inserting multiple views via insertPages\n             * the last page will be transitioned to, but the\n             * others will not be. As a result, a DOM element\n             * will only be created for the last page inserted.\n             * As a result, it is possible to have views in the\n             * stack that do not have `view.element` yet.\n             */\n            var element = view.element;\n            if (element) {\n                if (i > activeViewIndex) {\n                    // this view comes after the active view\n                    // let's unload it\n                    lifecycle(element, LIFECYCLE_WILL_UNLOAD);\n                    this.destroyView(view);\n                }\n                else if (i < activeViewIndex) {\n                    // this view comes before the active view\n                    // and it is not a portal then ensure it is hidden\n                    setPageHidden(element, true);\n                }\n            }\n        }\n    };\n    class_1.prototype.canStart = function () {\n        return (!!this.swipeGesture &&\n            !this.isTransitioning &&\n            this.transInstr.length === 0 &&\n            this.animationEnabled &&\n            this.canGoBackSync());\n    };\n    class_1.prototype.onStart = function () {\n        this.queueTrns({\n            removeStart: -1,\n            removeCount: 1,\n            opts: {\n                direction: 'back',\n                progressAnimation: true\n            }\n        }, undefined);\n    };\n    class_1.prototype.onMove = function (stepValue) {\n        if (this.sbAni) {\n            this.sbAni.progressStep(stepValue);\n        }\n    };\n    class_1.prototype.onEnd = function (shouldComplete, stepValue, dur) {\n        var _this = this;\n        if (this.sbAni) {\n            this.animationEnabled = false;\n            this.sbAni.onFinish(function () {\n                _this.animationEnabled = true;\n            }, { oneTimeCallback: true });\n            // Account for rounding errors in JS\n            var newStepValue = (shouldComplete) ? -0.001 : 0.001;\n            /**\n             * Animation will be reversed here, so need to\n             * reverse the easing curve as well\n             *\n             * Additionally, we need to account for the time relative\n             * to the new easing curve, as `stepValue` is going to be given\n             * in terms of a linear curve.\n             */\n            if (!shouldComplete) {\n                this.sbAni.easing('cubic-bezier(1, 0, 0.68, 0.28)');\n                newStepValue += getTimeGivenProgression([0, 0], [1, 0], [0.68, 0.28], [1, 1], stepValue)[0];\n            }\n            else {\n                newStepValue += getTimeGivenProgression([0, 0], [0.32, 0.72], [0, 1], [1, 1], stepValue)[0];\n            }\n            this.sbAni.progressEnd(shouldComplete ? 1 : 0, newStepValue, dur);\n        }\n    };\n    class_1.prototype.render = function () {\n        return (h(\"slot\", null));\n    };\n    Object.defineProperty(class_1.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(class_1, \"watchers\", {\n        get: function () {\n            return {\n                \"swipeGesture\": [\"swipeGestureChanged\"],\n                \"root\": [\"rootChanged\"]\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return class_1;\n}());\nNav.style = navCss;\nvar navLink = function (el, routerDirection, component, componentProps, routerAnimation) {\n    var nav = el.closest('ion-nav');\n    if (nav) {\n        if (routerDirection === 'forward') {\n            if (component !== undefined) {\n                return nav.push(component, componentProps, { skipIfBusy: true, animationBuilder: routerAnimation });\n            }\n        }\n        else if (routerDirection === 'root') {\n            if (component !== undefined) {\n                return nav.setRoot(component, componentProps, { skipIfBusy: true, animationBuilder: routerAnimation });\n            }\n        }\n        else if (routerDirection === 'back') {\n            return nav.pop({ skipIfBusy: true, animationBuilder: routerAnimation });\n        }\n    }\n    return Promise.resolve(false);\n};\nvar NavLink = /** @class */ (function () {\n    function NavLink(hostRef) {\n        var _this = this;\n        registerInstance(this, hostRef);\n        /**\n         * The transition direction when navigating to another page.\n         */\n        this.routerDirection = 'forward';\n        this.onClick = function () {\n            return navLink(_this.el, _this.routerDirection, _this.component, _this.componentProps, _this.routerAnimation);\n        };\n    }\n    NavLink.prototype.render = function () {\n        return (h(Host, { onClick: this.onClick }));\n    };\n    Object.defineProperty(NavLink.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: false,\n        configurable: true\n    });\n    return NavLink;\n}());\nexport { Nav as ion_nav, NavLink as ion_nav_link };\n","import { __spreadArrays } from \"tslib\";\n/**\n * Gets the root context of a shadow dom element\n * On newer browsers this will be the shadowRoot,\n * but for older browser this may just be the\n * element itself.\n *\n * Useful for whenever you need to explicitly\n * do \"myElement.shadowRoot!.querySelector(...)\".\n */\nvar getElementRoot = function (el, fallback) {\n    if (fallback === void 0) { fallback = el; }\n    return el.shadowRoot || fallback;\n};\n/**\n * Patched version of requestAnimationFrame that avoids ngzone\n * Use only when you know ngzone should not run\n */\nvar raf = function (h) {\n    if (typeof __zone_symbol__requestAnimationFrame === 'function') {\n        return __zone_symbol__requestAnimationFrame(h);\n    }\n    if (typeof requestAnimationFrame === 'function') {\n        return requestAnimationFrame(h);\n    }\n    return setTimeout(h);\n};\nvar hasShadowDom = function (el) {\n    return !!el.shadowRoot && !!el.attachShadow;\n};\nvar findItemLabel = function (componentEl) {\n    var itemEl = componentEl.closest('ion-item');\n    if (itemEl) {\n        return itemEl.querySelector('ion-label');\n    }\n    return null;\n};\nvar renderHiddenInput = function (always, container, name, value, disabled) {\n    if (always || hasShadowDom(container)) {\n        var input = container.querySelector('input.aux-input');\n        if (!input) {\n            input = container.ownerDocument.createElement('input');\n            input.type = 'hidden';\n            input.classList.add('aux-input');\n            container.appendChild(input);\n        }\n        input.disabled = disabled;\n        input.name = name;\n        input.value = value || '';\n    }\n};\nvar clamp = function (min, n, max) {\n    return Math.max(min, Math.min(n, max));\n};\nvar assert = function (actual, reason) {\n    if (!actual) {\n        var message = 'ASSERT: ' + reason;\n        console.error(message);\n        debugger; // tslint:disable-line\n        throw new Error(message);\n    }\n};\nvar now = function (ev) {\n    return ev.timeStamp || Date.now();\n};\nvar pointerCoord = function (ev) {\n    // get X coordinates for either a mouse click\n    // or a touch depending on the given event\n    if (ev) {\n        var changedTouches = ev.changedTouches;\n        if (changedTouches && changedTouches.length > 0) {\n            var touch = changedTouches[0];\n            return { x: touch.clientX, y: touch.clientY };\n        }\n        if (ev.pageX !== undefined) {\n            return { x: ev.pageX, y: ev.pageY };\n        }\n    }\n    return { x: 0, y: 0 };\n};\n/**\n * @hidden\n * Given a side, return if it should be on the end\n * based on the value of dir\n * @param side the side\n * @param isRTL whether the application dir is rtl\n */\nvar isEndSide = function (side) {\n    var isRTL = document.dir === 'rtl';\n    switch (side) {\n        case 'start': return isRTL;\n        case 'end': return !isRTL;\n        default:\n            throw new Error(\"\\\"\" + side + \"\\\" is not a valid value for [side]. Use \\\"start\\\" or \\\"end\\\" instead.\");\n    }\n};\nvar debounceEvent = function (event, wait) {\n    var original = event._original || event;\n    return {\n        _original: event,\n        emit: debounce(original.emit.bind(original), wait)\n    };\n};\nvar debounce = function (func, wait) {\n    if (wait === void 0) { wait = 0; }\n    var timer;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        clearTimeout(timer);\n        timer = setTimeout.apply(void 0, __spreadArrays([func, wait], args));\n    };\n};\nexport { renderHiddenInput as a, assert as b, clamp as c, debounceEvent as d, debounce as e, findItemLabel as f, getElementRoot as g, hasShadowDom as h, isEndSide as i, now as n, pointerCoord as p, raf as r };\n"],"sourceRoot":""}