{"version":3,"sources":["webpack:///./node_modules/@ionic/core/dist/esm-es5/animation-a635a2fc.js"],"names":["animationPrefix","convertCamelCaseToHypen","str","replace","toLowerCase","getAnimationPrefix","el","undefined","supportsUnprefixed","style","animationName","supportsWebkitPrefix","webkitAnimationName","setStyleProperty","element","propertyName","value","prefix","startsWith","setProperty","removeStyleProperty","removeProperty","keyframeIds","addClassToArray","classes","className","classNameToAppend","Array","isArray","createAnimation","animationId","_delay","_duration","_easing","_iterations","_fill","_direction","parentAnimation","cssAnimationsTimerFallback","forceDirectionValue","forceDurationValue","forceDelayValue","keyframeName","ani","_keyframes","beforeAddClasses","beforeRemoveClasses","initialized","beforeStylesValue","afterAddClasses","afterRemoveClasses","afterStylesValue","numAnimationsRunning","shouldForceLinearEasing","shouldForceSyncPlayback","willComplete","finished","shouldCalculateNumAnimations","id","onFinishCallbacks","onFinishOneTimeCallbacks","elements","childAnimations","stylesheets","_beforeAddReadFunctions","_beforeAddWriteFunctions","_afterAddReadFunctions","_afterAddWriteFunctions","webAnimations","supportsAnimationEffect","AnimationEffect","window","supportsWebAnimations","Element","prototype","animate","cleanUp","clearStyleSheets","cleanUpElements","cleanUpStyleSheets","onFinish","callback","opts","oneTimeCallback","push","c","o","clearOnFinish","length","forEach","animation","cancel","elementsArray_1","slice","stylesheet","parentNode","removeChild","getFill","getDirection","getEasing","getDuration","getIterations","getDelay","animationFinish","clearCSSAnimationsTimeout","currentStep","addClasses","removeClasses","styles","elementClassList","classList","property","add","remove","hasOwnProperty","onFinishCallback","afterAnimation","initializeCSSAnimation","toggleAnimationName","processedKeyframes","keyframes","keyframe","key","newKey","processKeyframes","keyframeRules","map","offset","frameString","join","generateKeyframeRules","stylesheet_1","styleContainer","rootNode","getRootNode","head","getStyleContainer","keyframePrefix","existingStylesheet","querySelector","ownerDocument","document","createElement","textContent","appendChild","createKeyframeStylesheet","index","indexOf","generateKeyframeName","iterationsCount","Infinity","toString","initializeAnimation","beforeAnimation","delay","duration","easing","iterations","fill","direction","pause","onfinish","setAnimationStep","step","Math","min","max","currentTime","effect","getComputedTiming","animationDuration_1","updateWebAnimation","updateTiming","updateCSSAnimation","update","deep","pauseAnimation","onAnimationEndFallback","clearTimeout","clearCSSAnimationPlayState","play","Promise","resolve","sync","animationDelay","animationDuration","animationIterations","isFinite","setTimeout","passive","unregister","unRegTrans","onTransitionEnd","ev","target","addEventListener","removeEventListener","playCSSAnimations","from","_a","firstFrame","to","lastFrame","fromTo","fromValue","toValue","parent","stop","destroy","childAnimation","keyframeValues","addAnimation","animationToAdd","_i","animationToAdd_1","addElement","nodeType","i","console","error","animationFill","animationDirection","animationEasing","getWebAnimations","getKeyframes","afterAddRead","readFn","afterAddWrite","writeFn","afterClearStyles","propertyNames","propertyNames_2","afterStyles","afterRemoveClass","afterAddClass","beforeAddRead","beforeAddWrite","beforeClearStyles","propertyNames_1","beforeStyles","beforeRemoveClass","beforeAddClass","progressStart","forceLinearEasing","progressStep","progressEnd","playTo","dur"],"mappings":"0FAAA,sCAEIA,EAFJ,gBA6BIC,EAA0B,SAAUC,GACpC,OAAOA,EAAIC,QAAQ,qBAAsB,SAASC,eAElDC,EAAqB,SAAUC,GAC/B,QAAwBC,IAApBP,EAA+B,CAC/B,IAAIQ,OAAgDD,IAA3BD,EAAGG,MAAMC,cAC9BC,OAAwDJ,IAAjCD,EAAGG,MAAMG,oBACpCZ,GAAoBQ,GAAsBG,EAAwB,WAAa,GAEnF,OAAOX,GAEPa,EAAmB,SAAUC,EAASC,EAAcC,GACpD,IAAIC,EAASF,EAAaG,WAAW,aAAeb,EAAmBS,GAAW,GAClFA,EAAQL,MAAMU,YAAYF,EAASF,EAAcC,IAEjDI,EAAsB,SAAUN,EAASC,GACzC,IAAIE,EAASF,EAAaG,WAAW,aAAeb,EAAmBS,GAAW,GAClFA,EAAQL,MAAMY,eAAeJ,EAASF,IAuCtCO,EAAc,GAyBdC,EAAkB,SAAUC,EAASC,GAErC,QADgB,IAAZD,IAAsBA,EAAU,SAClBjB,IAAdkB,EAAyB,CACzB,IAAIC,EAAqBC,MAAMC,QAAQH,GAAcA,EAAY,CAACA,GAClE,OAAO,YAAeD,EAASE,GAEnC,OAAOF,GAEPK,EAAkB,SAAUC,GAC5B,IAAIC,EACAC,EACAC,EACAC,EACAC,EACAC,EAKAC,EAQAC,EACAC,EACAC,EACAC,EAIAC,EACAC,EApBAC,EAAa,GACbC,EAAmB,GACnBC,EAAsB,GACtBC,GAAc,EAEdC,EAAoB,GACpBC,EAAkB,GAClBC,EAAqB,GACrBC,EAAmB,GACnBC,EAAuB,EACvBC,GAA0B,EAC1BC,GAA0B,EAK1BC,GAAe,EACfC,GAAW,EACXC,GAA+B,EAG/BC,EAAK5B,EACL6B,EAAoB,GACpBC,EAA2B,GAC3BC,EAAW,GACXC,EAAkB,GAClBC,EAAc,GACdC,EAA0B,GAC1BC,EAA2B,GAC3BC,EAAyB,GACzBC,EAA0B,GAC1BC,EAAgB,GAChBC,EAAsD,mBAApBC,iBAAoE,mBAA3BC,OAAOD,gBAClFE,EAA4C,mBAAZC,SAAiE,mBAA9BA,QAAQC,UAAUC,SAA2BN,EAwBhHO,EAAU,SAAUC,GACpBC,IACID,GACAE,KAcJC,EAAW,SAAUC,EAAUC,GAG/B,OAFiBA,GAAQA,EAAKC,gBAAmBvB,EAA2BD,GAClEyB,KAAK,CAAEC,EAAGJ,EAAUK,EAAGJ,IAC1BvC,GAEP4C,EAAgB,WAGhB,OAFA5B,EAAkB6B,OAAS,EAC3B5B,EAAyB4B,OAAS,EAC3B7C,GAOPmC,EAAkB,WAClB,GAAIN,EACAJ,EAAcqB,SAAQ,SAAUC,GAC5BA,EAAUC,YAEdvB,EAAcoB,OAAS,MAEtB,CACD,IAAII,EAAkB/B,EAASgC,QAC/B,aAAI,WACAD,EAAgBH,SAAQ,SAAU3E,GAC9BM,EAAoBN,EAAS,kBAC7BM,EAAoBN,EAAS,sBAC7BM,EAAoBN,EAAS,6BAC7BM,EAAoBN,EAAS,6BAC7BM,EAAoBN,EAAS,mBAC7BM,EAAoBN,EAAS,wBAC7BM,EAAoBN,EAAS,uBAC7BM,EAAoBN,EAAS,+BASzCiE,EAAqB,WACrBhB,EAAY0B,SAAQ,SAAUK,GAMtBA,GAAcA,EAAWC,YACzBD,EAAWC,WAAWC,YAAYF,MAG1C/B,EAAYyB,OAAS,GAoErBS,GAAU,WACV,YAAc1F,IAAV4B,EACOA,EAEPE,EACOA,EAAgB4D,UAEpB,QAEPC,GAAe,WACf,YAA4B3F,IAAxBgC,EACOA,OAEQhC,IAAf6B,EACOA,EAEPC,EACOA,EAAgB6D,eAEpB,UAEPC,GAAY,WACZ,OAAI9C,EACO,cAEK9C,IAAZ0B,EACOA,EAEPI,EACOA,EAAgB8D,YAEpB,UAEPC,GAAc,WACd,OAAI9C,EACO,OAEgB/C,IAAvBiC,EACOA,OAEOjC,IAAdyB,EACOA,EAEPK,EACOA,EAAgB+D,cAEpB,GAEPC,GAAgB,WAChB,YAAoB9F,IAAhB2B,EACOA,EAEPG,EACOA,EAAgBgE,gBAEpB,GAEPC,GAAW,WACX,YAAwB/F,IAApBkC,EACOA,OAEIlC,IAAXwB,EACOA,EAEPM,EACOA,EAAgBiE,WAEpB,GA+IPC,GAAkB,WACW,IAAzBnD,GAIyB,MAD7BA,KAtCiB,WACjBoD,KAEAtC,EAAuBuB,SAAQ,SAAUR,GAAY,OAAOA,OAE5Dd,EAAwBsB,SAAQ,SAAUR,GAAY,OAAOA,OAE7D,IAAIwB,EAAclD,EAAe,EAAI,EACjCmD,EAAazD,EACb0D,EAAgBzD,EAChB0D,EAASzD,EACbU,EAAS4B,SAAQ,SAAUnF,GACvB,IAAIuG,EAAmBvG,EAAGwG,UAG1B,IAAK,IAAIC,KAFTL,EAAWjB,SAAQ,SAAUJ,GAAK,OAAOwB,EAAiBG,IAAI3B,MAC9DsB,EAAclB,SAAQ,SAAUJ,GAAK,OAAOwB,EAAiBI,OAAO5B,MAC/CuB,EACbA,EAAOM,eAAeH,IACtBlG,EAAiBP,EAAIyG,EAAUH,EAAOG,OAIlDpD,EAAkB8B,SAAQ,SAAU0B,GAChC,OAAOA,EAAiB9B,EAAEoB,EAAa9D,MAE3CiB,EAAyB6B,SAAQ,SAAU0B,GACvC,OAAOA,EAAiB9B,EAAEoB,EAAa9D,MAE3CiB,EAAyB4B,OAAS,EAClC/B,GAA+B,EAC3BF,IACAC,GAAW,GAEfD,GAAe,EAQX6D,GACI/E,GACAA,EAAgBkE,oBAIxBc,GAAyB,SAAUC,QACP,IAAxBA,IAAkCA,GAAsB,GAC5DvC,IACA,IAAIwC,EA1hBW,SAAUC,GAoB7B,OAnBAA,EAAU/B,SAAQ,SAAUgC,GACxB,IAAK,IAAIC,KAAOD,EACZ,GAAIA,EAASP,eAAeQ,GAAM,CAC9B,IAOQC,EAPJ3G,EAAQyG,EAASC,GACrB,GAAY,WAARA,EAEAD,EADIE,EAAS,6BACM3G,SACZyG,EAASC,QAGZC,EAAS1H,EAAwByH,MACtBA,IACXD,EAASE,GAAU3G,SACZyG,EAASC,QAM7BF,EAsgBsBI,CAAiBhF,GAC1CiB,EAAS4B,SAAQ,SAAU3E,GACvB,GAAIyG,EAAmB/B,OAAS,EAAG,CAC/B,IAAIqC,EA5dQ,SAAUL,GAElC,YADkB,IAAdA,IAAwBA,EAAY,IACjCA,EAAUM,KAAI,SAAUL,GAC3B,IAAIM,EAASN,EAASM,OAClBC,EAAc,GAClB,IAAK,IAAIjB,KAAYU,EACbA,EAASP,eAAeH,IAA0B,WAAbA,GACrCiB,EAAY5C,KAAK2B,EAAW,KAAOU,EAASV,GAAY,KAGhE,OAAgB,IAATgB,EAAe,OAASC,EAAYC,KAAK,KAAO,QACxDA,KAAK,KAidwBC,CAAsBX,GAEtCY,EArcW,SAAUzF,EAAcmF,EAAe/G,GAClE,IAAIsH,EALgB,SAAUtH,GAC9B,IAAIuH,EAAWvH,EAAQwH,cACvB,OAAQD,EAASE,MAAQF,EAGJG,CAAkB1H,GACnC2H,EAAiBpI,EAAmBS,GACpC4H,EAAqBN,EAAeO,cAAc,IAAMjG,GAC5D,GAAIgG,EACA,OAAOA,EAEX,IAAI5C,GAAchF,EAAQ8H,eAAiBC,UAAUC,cAAc,SAInE,OAHAhD,EAAWpC,GAAKhB,EAChBoD,EAAWiD,YAAc,IAAMN,EAAiB,aAAe/F,EAAe,MAAQmF,EAAgB,OAASY,EAAiB,aAAe/F,EAAe,UAAYmF,EAAgB,KAC1LO,EAAeY,YAAYlD,GACpBA,EA0bwBmD,CADnBvG,OAAgCnC,IAAhBuB,EAA6BA,EA/clC,SAAU+F,GACjC,IAAIqB,EAAQ5H,EAAY6H,QAAQtB,GAIhC,OAHIqB,EAAQ,IACRA,EAAS5H,EAAY8D,KAAKyC,GAAiB,GAExC,iBAAmBqB,EA0c6CE,CAAqBvB,GACtBA,EAAe/G,GACzEiD,EAAYqB,KAAK+C,GACjBtH,EAAiBC,EAAS,qBAAsBsF,KAAgB,MAChEvF,EAAiBC,EAAS,4BAA6BqF,MACvDtF,EAAiBC,EAAS,kBAAmBwF,KAAa,MAC1DzF,EAAiBC,EAAS,sBAAuBmF,MACjDpF,EAAiBC,EAAS,sBAAuBoF,MACjD,IAAImD,EAAmBhD,OAAoBiD,IACrC,WACAjD,KAAgBkD,WACtB1I,EAAiBC,EAAS,4BAA6BuI,GACvDxI,EAAiBC,EAAS,uBAAwB,UAC9CwG,GACAzG,EAAiBC,EAAS,iBAAkBqH,EAAazE,GAAK,QAElE,aAAI,WACA7C,EAAiBC,EAAS,iBAAkBqH,EAAazE,IAAM,cAyB3E8F,GAAsB,SAAUlC,QACJ,IAAxBA,IAAkCA,GAAsB,GAvH1C,WAElBtD,EAAwByB,SAAQ,SAAUR,GAAY,OAAOA,OAE7DhB,EAAyBwB,SAAQ,SAAUR,GAAY,OAAOA,OAE9D,IAAIyB,EAAa7D,EACb8D,EAAgB7D,EAChB8D,EAAS5D,EACba,EAAS4B,SAAQ,SAAUnF,GACvB,IAAIuG,EAAmBvG,EAAGwG,UAG1B,IAAK,IAAIC,KAFTL,EAAWjB,SAAQ,SAAUJ,GAAK,OAAOwB,EAAiBG,IAAI3B,MAC9DsB,EAAclB,SAAQ,SAAUJ,GAAK,OAAOwB,EAAiBI,OAAO5B,MAC/CuB,EACbA,EAAOM,eAAeH,IACtBlG,EAAiBP,EAAIyG,EAAUH,EAAOG,OAyGlD0C,GACI7G,EAAW4C,OAAS,IAChBhB,GAvBRX,EAAS4B,SAAQ,SAAU3E,GACvB,IAAI4E,EAAY5E,EAAQ6D,QAAQ/B,EAAY,CACxCc,GAAIA,EACJgG,MAAOpD,KACPqD,SAAUvD,KACVwD,OAAQzD,KACR0D,WAAYxD,KACZyD,KAAM7D,KACN8D,UAAW7D,OAEfR,EAAUsE,QACV5F,EAAcgB,KAAKM,MAEnBtB,EAAcoB,OAAS,IACvBpB,EAAc,GAAG6F,SAAW,WACxB1D,QAYAc,GAAuBC,IAG/BvE,GAAc,GAEdmH,GAAmB,SAAUC,GAE7B,GADAA,EAAOC,KAAKC,IAAID,KAAKE,IAAIH,EAAM,GAAI,OAC/B3F,EACAJ,EAAcqB,SAAQ,SAAUC,GAC5BA,EAAU6E,YAAc7E,EAAU8E,OAAOC,oBAAoBf,MAAStD,KAAgB+D,EACtFzE,EAAUsE,eAGb,CACD,IAAIU,EAAsB,IAAMtE,KAAgB+D,EAAO,KACvDtG,EAAS4B,SAAQ,SAAU3E,GACnB8B,EAAW4C,OAAS,IACpB3E,EAAiBC,EAAS,kBAAmB4J,GAC7C7J,EAAiBC,EAAS,uBAAwB,gBAK9D6J,GAAqB,SAAUR,GAC/B/F,EAAcqB,SAAQ,SAAUC,GAC5BA,EAAU8E,OAAOI,aAAa,CAC1BlB,MAAOpD,KACPqD,SAAUvD,KACVwD,OAAQzD,KACR0D,WAAYxD,KACZyD,KAAM7D,KACN8D,UAAW7D,eAGN3F,IAAT4J,GACAD,GAAiBC,IAGrBU,GAAqB,SAAUvD,EAAqB6C,QACxB,IAAxB7C,IAAkCA,GAAsB,GAC5D,aAAI,WACAzD,EAAS4B,SAAQ,SAAU3E,GACvBD,EAAiBC,EAAS,iBAAkB4B,GAAgB,MAC5D7B,EAAiBC,EAAS,qBAAsBsF,KAAgB,MAChEvF,EAAiBC,EAAS,4BAA6BqF,MACvDtF,EAAiBC,EAAS,uBAA6BP,IAAT4J,EAAsB,IAAMA,EAAO/D,KAAgB,KAAOE,KAAa,MACrHzF,EAAiBC,EAAS,sBAAuBmF,MAAa,MAC9DpF,EAAiBC,EAAS,sBAAuBoF,MAAkB,MACnE,IAAImD,EAAmBhD,OAAoBiD,IACrC,WACAjD,KAAgBkD,WACtB1I,EAAiBC,EAAS,4BAA6BuI,GACnD/B,GACAzG,EAAiBC,EAAS,iBAAkB4B,EAAe,QAE/D,aAAI,WACA7B,EAAiBC,EAAS,iBAAkB4B,GAAgB,gBAKxEoI,GAAS,SAAUC,EAAMzD,EAAqB6C,GAc9C,YAba,IAATY,IAAmBA,GAAO,QACF,IAAxBzD,IAAkCA,GAAsB,GACxDyD,GACAjH,EAAgB2B,SAAQ,SAAUC,GAC9BA,EAAUoF,OAAOC,EAAMzD,EAAqB6C,MAGhD3F,EACAmG,GAAmBR,GAGnBU,GAAmBvD,EAAqB6C,GAErCxH,GAyEPqI,GAAiB,WACbjI,IACIyB,EACAJ,EAAcqB,SAAQ,SAAUC,GAC5BA,EAAUsE,WAIdnG,EAAS4B,SAAQ,SAAU3E,GACvBD,EAAiBC,EAAS,uBAAwB,eAY9DmK,GAAyB,WACzB3I,OAA6B/B,EAC7BgG,MAEAC,GAA4B,WACxBlE,GACA4I,aAAa5I,IAmDjB6I,GAA6B,WAC7BtH,EAAS4B,SAAQ,SAAU3E,GACvBM,EAAoBN,EAAS,sBAC7BM,EAAoBN,EAAS,mBAC7BM,EAAoBN,EAAS,4BAoBjCsK,GAAO,SAAUlG,GACjB,OAAO,IAAImG,SAAQ,SAAUC,GACrBpG,GAAQA,EAAKqG,OACbjI,GAA0B,EAC1B0B,GAAS,WAAc,OAAO1B,GAA0B,IAAU,CAAE6B,iBAAiB,KAEpFpC,GACDyG,KAEAhG,IAjBJgB,GACA0F,GAAiB,GACjBS,MAGAE,KAcIrH,GAAW,GAEXC,IACAL,EAAuBU,EAAgB0B,OAAS,EAChD/B,GAA+B,GAEnCuB,GAAS,WAAc,OAAOsG,MAAc,CAAEnG,iBAAiB,IAC/DrB,EAAgB2B,SAAQ,SAAUC,GAC9BA,EAAU0F,UAEV5G,GArCRJ,EAAcqB,SAAQ,SAAUC,GAC5BA,EAAU0F,UAEY,IAAtBxI,EAAW4C,QAAoC,IAApB3B,EAAS2B,QACpCe,MA5DgB,WASpB,GARAC,KACA,aAAI,WACA3C,EAAS4B,SAAQ,SAAU3E,GACnB8B,EAAW4C,OAAS,GACpB3E,EAAiBC,EAAS,uBAAwB,iBAIpC,IAAtB8B,EAAW4C,QAAoC,IAApB3B,EAAS2B,OACpCe,SAEC,CASD,IAAIiF,EAAiBlF,MAAc,EAC/BmF,EAAoBrF,MAAiB,EACrCsF,EAAsBrF,MAAmB,EAEzCsF,SAASD,KACTpJ,EAA6BsJ,WAAWX,GAAwBO,EAAkBC,EAAoBC,EApoB1E,MA/GfpL,EAqvBJuD,EAAS,GArvBDoB,EAqvBK,WACtBuB,KAYA,aAAI,WACA2E,KACA,YAAI5E,QAlwBhBrB,EAAO,CAAE2G,SAAS,GAClBC,EAAa,WACTC,GACAA,KAGJC,EAAkB,SAAUC,GACxB3L,IAAO2L,EAAGC,SACVJ,IACA7G,EAASgH,KAGb3L,IACAA,EAAG6L,iBAAiB,qBAAsBH,EAAiB9G,GAC3D5E,EAAG6L,iBAAiB,eAAgBH,EAAiB9G,GACrD6G,EAAa,WACTzL,EAAG8L,oBAAoB,qBAAsBJ,EAAiB9G,GAC9D5E,EAAG8L,oBAAoB,eAAgBJ,EAAiB9G,KAnBjD,IAAU5E,EAAI2E,EACzB8G,EACA7G,EACA4G,EAKAE,EAkzBQK,OAcRC,GAAO,SAAUvF,EAAU/F,GAC3B,IAAIuL,EACAC,EAAa5J,EAAW,GAS5B,YARmBrC,IAAfiM,QAAmDjM,IAAtBiM,EAAWzE,QAA8C,IAAtByE,EAAWzE,OAI3EnF,EAAa,YAAe,EACvB2J,EAAK,CAAExE,OAAQ,GAAKwE,EAAGxF,GAAY/F,EAAOuL,IAC5C3J,GALH4J,EAAWzF,GAAY/F,EAOpB2B,GAkBX,OAAOA,EAAM,CACTN,gBAAiBA,EACjBwB,SAAUA,EACVC,gBAAiBA,EACjBJ,GAAIA,EACJ6C,gBAAiBA,GACjB+F,KAAMA,GACNG,GAvBK,SAAU1F,EAAU/F,GACzB,IAAIuL,EACAG,EAAY9J,EAAWA,EAAW4C,OAAS,GAS/C,YARkBjF,IAAdmM,QAAiDnM,IAArBmM,EAAU3E,QAA6C,IAArB2E,EAAU3E,OAIxEnF,EAAa,YAAeA,EAAY,EACnC2J,EAAK,CAAExE,OAAQ,GAAKwE,EAAGxF,GAAY/F,EAAOuL,KAJ/CG,EAAU3F,GAAY/F,EAOnB2B,GAaPgK,OAXS,SAAU5F,EAAU6F,EAAWC,GACxC,OAAOP,GAAKvF,EAAU6F,GAAWH,GAAG1F,EAAU8F,IAW9CC,OAhfS,SAAUpH,GAEnB,OADArD,EAAkBqD,EACX/C,GA+ePyI,KAAMA,GACNpB,MAvKQ,WAKR,OAJAlG,EAAgB2B,SAAQ,SAAUC,GAC9BA,EAAUsE,WAEdgB,KACOrI,GAmKPoK,KAnDO,WACPjJ,EAAgB2B,SAAQ,SAAUC,GAC9BA,EAAUqH,UAEVhK,IACA+B,IACA/B,GAAc,GAvrBlBM,GAA0B,EAC1BC,GAA0B,EAC1BG,GAA+B,EAC/BlB,OAAsBhC,EACtBiC,OAAqBjC,EACrBkC,OAAkBlC,EAClB6C,EAAuB,EACvBI,GAAW,EACXD,GAAe,GA6tBfyJ,QA/vBU,SAAUnI,GAWpB,OAVAf,EAAgB2B,SAAQ,SAAUwH,GAC9BA,EAAeD,QAAQnI,MAE3BD,EAAQC,GACRhB,EAAS2B,OAAS,EAClB1B,EAAgB0B,OAAS,EACzB5C,EAAW4C,OAAS,EACpBD,IACAxC,GAAc,EACdU,GAA+B,EACxBd,GAqvBP6E,UAjdY,SAAU0F,GAEtB,OADAtK,EAAasK,EACNvK,GAgdPwK,aAlee,SAAUC,GACzB,GAAsB,MAAlBA,EACA,GAAIzL,MAAMC,QAAQwL,GACd,IAAK,IAAIC,EAAK,EAAGC,EAAmBF,EAAgBC,EAAKC,EAAiB9H,OAAQ6H,IAAM,CACpF,IAAI3H,EAAY4H,EAAiBD,GACjC3H,EAAUoH,OAAOnK,GACjBmB,EAAgBsB,KAAKM,QAIzB0H,EAAeN,OAAOnK,GACtBmB,EAAgBsB,KAAKgI,GAG7B,OAAOzK,GAqdP4K,WAnfa,SAAUjN,GACvB,GAAU,MAANA,EACA,GAAoB,IAAhBA,EAAGkN,SACH3J,EAASuB,KAAK9E,QAEb,GAAIA,EAAGkF,QAAU,EAClB,IAAK,IAAIiI,EAAI,EAAGA,EAAInN,EAAGkF,OAAQiI,IAC3B5J,EAASuB,KAAK9E,EAAGmN,SAIrBC,QAAQC,MAAM,4BAGtB,OAAOhL,GAsePmI,OAAQA,GACRhB,KA1hBO,SAAU8D,GAGjB,OAFAzL,EAAQyL,EACR9C,IAAO,GACAnI,GAwhBPoH,UAhiBY,SAAU8D,GAGtB,OAFAzL,EAAayL,EACb/C,IAAO,GACAnI,GA8hBPkH,WAhgBa,SAAU6B,GAGvB,OAFAxJ,EAAcwJ,EACdZ,IAAO,GACAnI,GA8fPgH,SA9gBW,SAAU8B,GAWrB,OALKjH,GAA+C,IAAtBiH,IAC1BA,EAAoB,GAExBzJ,EAAYyJ,EACZX,IAAO,GACAnI,GAogBPiH,OAphBS,SAAUkE,GAGnB,OAFA7L,EAAU6L,EACVhD,IAAO,GACAnI,GAkhBP+G,MA1hBQ,SAAU8B,GAGlB,OAFAzJ,EAASyJ,EACTV,IAAO,GACAnI,GAwhBPoL,iBA7wBmB,WACnB,OAAO3J,GA6wBP4J,aAziBe,WACf,OAAOpL,GAyiBPqD,QAASA,GACTC,aAAcA,GACdI,SAAUA,GACVD,cAAeA,GACfF,UAAWA,GACXC,YAAaA,GACb6H,aA/qBe,SAAUC,GAEzB,OADAhK,EAAuBkB,KAAK8I,GACrBvL,GA8qBPwL,cA5qBgB,SAAUC,GAE1B,OADAjK,EAAwBiB,KAAKgJ,GACtBzL,GA2qBP0L,iBA/nBmB,SAAUC,QACP,IAAlBA,IAA4BA,EAAgB,IAChD,IAAK,IAAIjB,EAAK,EAAGkB,EAAkBD,EAAejB,EAAKkB,EAAgB/I,OAAQ6H,IAAM,CACjF,IAAItG,EAAWwH,EAAgBlB,GAC/BlK,EAAiB4D,GAAY,GAEjC,OAAOpE,GA0nBP6L,YAroBc,SAAU5H,GAGxB,YAFe,IAAXA,IAAqBA,EAAS,IAClCzD,EAAmByD,EACZjE,GAmoBP8L,iBA1oBmB,SAAUhN,GAE7B,OADAyB,EAAqB3B,EAAgB2B,EAAoBzB,GAClDkB,GAyoBP+L,cA/oBgB,SAAUjN,GAE1B,OADAwB,EAAkB1B,EAAgB0B,EAAiBxB,GAC5CkB,GA8oBPgM,cA7rBgB,SAAUT,GAE1B,OADAlK,EAAwBoB,KAAK8I,GACtBvL,GA4rBPiM,eA1rBiB,SAAUR,GAE3B,OADAnK,EAAyBmB,KAAKgJ,GACvBzL,GAyrBPkM,kBA1pBoB,SAAUP,QACR,IAAlBA,IAA4BA,EAAgB,IAChD,IAAK,IAAIjB,EAAK,EAAGyB,EAAkBR,EAAejB,EAAKyB,EAAgBtJ,OAAQ6H,IAAM,CACjF,IAAItG,EAAW+H,EAAgBzB,GAC/BrK,EAAkB+D,GAAY,GAElC,OAAOpE,GAqpBPoM,aApqBe,SAAUnI,GAGzB,YAFe,IAAXA,IAAqBA,EAAS,IAClC5D,EAAoB4D,EACbjE,GAkqBPqM,kBA7qBoB,SAAUvN,GAE9B,OADAqB,EAAsBvB,EAAgBuB,EAAqBrB,GACpDkB,GA4qBPsM,eAlrBiB,SAAUxN,GAE3B,OADAoB,EAAmBtB,EAAgBsB,EAAkBpB,GAC9CkB,GAirBPqC,SAAUA,EACVkK,cA9RgB,SAAUC,EAAmBhF,GAa7C,YAZ0B,IAAtBgF,IAAgCA,GAAoB,GACxDrL,EAAgB2B,SAAQ,SAAUC,GAC9BA,EAAUwJ,cAAcC,EAAmBhF,MAE/Ca,KACA3H,EAA0B8L,EACrBpM,EAID+H,IAAO,GAAO,EAAMX,GAHpBX,KAKG7G,GAkRPyM,aAhRe,SAAUjF,GAKzB,OAJArG,EAAgB2B,SAAQ,SAAUC,GAC9BA,EAAU0J,aAAajF,MAE3BD,GAAiBC,GACVxH,GA4QP0M,YA1Qc,SAAUC,EAAQnF,EAAMoF,GA+CtC,OA9CAlM,GAA0B,EAC1BS,EAAgB2B,SAAQ,SAAUC,GAC9BA,EAAU2J,YAAYC,EAAQnF,EAAMoF,WAE5BhP,IAARgP,IACA/M,EAAqB+M,GAEzB/L,GAAW,EAEXD,GAAe,EACA,IAAX+L,GAE4B,aAD5B/M,EAA0C,YAAnB2D,KAAgC,SAAW,aAE9D3C,GAAe,GAEfiB,GACAsG,KACAZ,GAAiB,EAAIC,KAGrB1H,GAAoB,EAAI0H,GAAQ/D,MAAkB,EAClD0E,IAAO,GAAO,KAGF,IAAXwE,IACD9K,GACAsG,KACAZ,GAAiBC,KAGjB1H,EAAmB0H,EAAO/D,MAAkB,EAC5C0E,IAAO,GAAO,UAGPvK,IAAX+O,IACAtK,GAAS,WACLxC,OAAqBjC,EACrBgC,OAAsBhC,EACtBkC,OAAkBlC,IACnB,CACC4E,iBAAiB,IAEhB9C,GACD+I,MAGDzI","file":"0.js","sourcesContent":["import { __spreadArrays } from \"tslib\";\nimport { r as raf } from './helpers-5c745fbd.js';\nvar animationPrefix;\n/**\n * Web Animations requires hyphenated CSS properties\n * to be written in camelCase when animating\n */\nvar processKeyframes = function (keyframes) {\n    keyframes.forEach(function (keyframe) {\n        for (var key in keyframe) {\n            if (keyframe.hasOwnProperty(key)) {\n                var value = keyframe[key];\n                if (key === 'easing') {\n                    var newKey = 'animation-timing-function';\n                    keyframe[newKey] = value;\n                    delete keyframe[key];\n                }\n                else {\n                    var newKey = convertCamelCaseToHypen(key);\n                    if (newKey !== key) {\n                        keyframe[newKey] = value;\n                        delete keyframe[key];\n                    }\n                }\n            }\n        }\n    });\n    return keyframes;\n};\nvar convertCamelCaseToHypen = function (str) {\n    return str.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\n};\nvar getAnimationPrefix = function (el) {\n    if (animationPrefix === undefined) {\n        var supportsUnprefixed = el.style.animationName !== undefined;\n        var supportsWebkitPrefix = el.style.webkitAnimationName !== undefined;\n        animationPrefix = (!supportsUnprefixed && supportsWebkitPrefix) ? '-webkit-' : '';\n    }\n    return animationPrefix;\n};\nvar setStyleProperty = function (element, propertyName, value) {\n    var prefix = propertyName.startsWith('animation') ? getAnimationPrefix(element) : '';\n    element.style.setProperty(prefix + propertyName, value);\n};\nvar removeStyleProperty = function (element, propertyName) {\n    var prefix = propertyName.startsWith('animation') ? getAnimationPrefix(element) : '';\n    element.style.removeProperty(prefix + propertyName);\n};\nvar animationEnd = function (el, callback) {\n    var unRegTrans;\n    var opts = { passive: true };\n    var unregister = function () {\n        if (unRegTrans) {\n            unRegTrans();\n        }\n    };\n    var onTransitionEnd = function (ev) {\n        if (el === ev.target) {\n            unregister();\n            callback(ev);\n        }\n    };\n    if (el) {\n        el.addEventListener('webkitAnimationEnd', onTransitionEnd, opts);\n        el.addEventListener('animationend', onTransitionEnd, opts);\n        unRegTrans = function () {\n            el.removeEventListener('webkitAnimationEnd', onTransitionEnd, opts);\n            el.removeEventListener('animationend', onTransitionEnd, opts);\n        };\n    }\n    return unregister;\n};\nvar generateKeyframeRules = function (keyframes) {\n    if (keyframes === void 0) { keyframes = []; }\n    return keyframes.map(function (keyframe) {\n        var offset = keyframe.offset;\n        var frameString = [];\n        for (var property in keyframe) {\n            if (keyframe.hasOwnProperty(property) && property !== 'offset') {\n                frameString.push(property + \": \" + keyframe[property] + \";\");\n            }\n        }\n        return offset * 100 + \"% { \" + frameString.join(' ') + \" }\";\n    }).join(' ');\n};\nvar keyframeIds = [];\nvar generateKeyframeName = function (keyframeRules) {\n    var index = keyframeIds.indexOf(keyframeRules);\n    if (index < 0) {\n        index = (keyframeIds.push(keyframeRules) - 1);\n    }\n    return \"ion-animation-\" + index;\n};\nvar getStyleContainer = function (element) {\n    var rootNode = element.getRootNode();\n    return (rootNode.head || rootNode);\n};\nvar createKeyframeStylesheet = function (keyframeName, keyframeRules, element) {\n    var styleContainer = getStyleContainer(element);\n    var keyframePrefix = getAnimationPrefix(element);\n    var existingStylesheet = styleContainer.querySelector('#' + keyframeName);\n    if (existingStylesheet) {\n        return existingStylesheet;\n    }\n    var stylesheet = (element.ownerDocument || document).createElement('style');\n    stylesheet.id = keyframeName;\n    stylesheet.textContent = \"@\" + keyframePrefix + \"keyframes \" + keyframeName + \" { \" + keyframeRules + \" } @\" + keyframePrefix + \"keyframes \" + keyframeName + \"-alt { \" + keyframeRules + \" }\";\n    styleContainer.appendChild(stylesheet);\n    return stylesheet;\n};\nvar addClassToArray = function (classes, className) {\n    if (classes === void 0) { classes = []; }\n    if (className !== undefined) {\n        var classNameToAppend = (Array.isArray(className)) ? className : [className];\n        return __spreadArrays(classes, classNameToAppend);\n    }\n    return classes;\n};\nvar createAnimation = function (animationId) {\n    var _delay;\n    var _duration;\n    var _easing;\n    var _iterations;\n    var _fill;\n    var _direction;\n    var _keyframes = [];\n    var beforeAddClasses = [];\n    var beforeRemoveClasses = [];\n    var initialized = false;\n    var parentAnimation;\n    var beforeStylesValue = {};\n    var afterAddClasses = [];\n    var afterRemoveClasses = [];\n    var afterStylesValue = {};\n    var numAnimationsRunning = 0;\n    var shouldForceLinearEasing = false;\n    var shouldForceSyncPlayback = false;\n    var cssAnimationsTimerFallback;\n    var forceDirectionValue;\n    var forceDurationValue;\n    var forceDelayValue;\n    var willComplete = true;\n    var finished = false;\n    var shouldCalculateNumAnimations = true;\n    var keyframeName;\n    var ani;\n    var id = animationId;\n    var onFinishCallbacks = [];\n    var onFinishOneTimeCallbacks = [];\n    var elements = [];\n    var childAnimations = [];\n    var stylesheets = [];\n    var _beforeAddReadFunctions = [];\n    var _beforeAddWriteFunctions = [];\n    var _afterAddReadFunctions = [];\n    var _afterAddWriteFunctions = [];\n    var webAnimations = [];\n    var supportsAnimationEffect = (typeof AnimationEffect === 'function' || typeof window.AnimationEffect === 'function');\n    var supportsWebAnimations = (typeof Element === 'function') && (typeof Element.prototype.animate === 'function') && supportsAnimationEffect;\n    var ANIMATION_END_FALLBACK_PADDING_MS = 100;\n    var getWebAnimations = function () {\n        return webAnimations;\n    };\n    var destroy = function (clearStyleSheets) {\n        childAnimations.forEach(function (childAnimation) {\n            childAnimation.destroy(clearStyleSheets);\n        });\n        cleanUp(clearStyleSheets);\n        elements.length = 0;\n        childAnimations.length = 0;\n        _keyframes.length = 0;\n        clearOnFinish();\n        initialized = false;\n        shouldCalculateNumAnimations = true;\n        return ani;\n    };\n    /**\n     * Cancels any Web Animations, removes\n     * any animation properties from the\n     * animation's elements, and removes the\n     * animation's stylesheets from the DOM.\n     */\n    var cleanUp = function (clearStyleSheets) {\n        cleanUpElements();\n        if (clearStyleSheets) {\n            cleanUpStyleSheets();\n        }\n    };\n    var resetFlags = function () {\n        shouldForceLinearEasing = false;\n        shouldForceSyncPlayback = false;\n        shouldCalculateNumAnimations = true;\n        forceDirectionValue = undefined;\n        forceDurationValue = undefined;\n        forceDelayValue = undefined;\n        numAnimationsRunning = 0;\n        finished = false;\n        willComplete = true;\n    };\n    var onFinish = function (callback, opts) {\n        var callbacks = (opts && opts.oneTimeCallback) ? onFinishOneTimeCallbacks : onFinishCallbacks;\n        callbacks.push({ c: callback, o: opts });\n        return ani;\n    };\n    var clearOnFinish = function () {\n        onFinishCallbacks.length = 0;\n        onFinishOneTimeCallbacks.length = 0;\n        return ani;\n    };\n    /**\n     * Cancels any Web Animations and removes\n     * any animation properties from the\n     * the animation's elements.\n     */\n    var cleanUpElements = function () {\n        if (supportsWebAnimations) {\n            webAnimations.forEach(function (animation) {\n                animation.cancel();\n            });\n            webAnimations.length = 0;\n        }\n        else {\n            var elementsArray_1 = elements.slice();\n            raf(function () {\n                elementsArray_1.forEach(function (element) {\n                    removeStyleProperty(element, 'animation-name');\n                    removeStyleProperty(element, 'animation-duration');\n                    removeStyleProperty(element, 'animation-timing-function');\n                    removeStyleProperty(element, 'animation-iteration-count');\n                    removeStyleProperty(element, 'animation-delay');\n                    removeStyleProperty(element, 'animation-play-state');\n                    removeStyleProperty(element, 'animation-fill-mode');\n                    removeStyleProperty(element, 'animation-direction');\n                });\n            });\n        }\n    };\n    /**\n     * Removes the animation's stylesheets\n     * from the DOM.\n     */\n    var cleanUpStyleSheets = function () {\n        stylesheets.forEach(function (stylesheet) {\n            /**\n             * When sharing stylesheets, it's possible\n             * for another animation to have already\n             * cleaned up a particular stylesheet\n             */\n            if (stylesheet && stylesheet.parentNode) {\n                stylesheet.parentNode.removeChild(stylesheet);\n            }\n        });\n        stylesheets.length = 0;\n    };\n    var beforeAddRead = function (readFn) {\n        _beforeAddReadFunctions.push(readFn);\n        return ani;\n    };\n    var beforeAddWrite = function (writeFn) {\n        _beforeAddWriteFunctions.push(writeFn);\n        return ani;\n    };\n    var afterAddRead = function (readFn) {\n        _afterAddReadFunctions.push(readFn);\n        return ani;\n    };\n    var afterAddWrite = function (writeFn) {\n        _afterAddWriteFunctions.push(writeFn);\n        return ani;\n    };\n    var beforeAddClass = function (className) {\n        beforeAddClasses = addClassToArray(beforeAddClasses, className);\n        return ani;\n    };\n    var beforeRemoveClass = function (className) {\n        beforeRemoveClasses = addClassToArray(beforeRemoveClasses, className);\n        return ani;\n    };\n    /**\n     * Set CSS inline styles to the animation's\n     * elements before the animation begins.\n     */\n    var beforeStyles = function (styles) {\n        if (styles === void 0) { styles = {}; }\n        beforeStylesValue = styles;\n        return ani;\n    };\n    /**\n     * Clear CSS inline styles from the animation's\n     * elements before the animation begins.\n     */\n    var beforeClearStyles = function (propertyNames) {\n        if (propertyNames === void 0) { propertyNames = []; }\n        for (var _i = 0, propertyNames_1 = propertyNames; _i < propertyNames_1.length; _i++) {\n            var property = propertyNames_1[_i];\n            beforeStylesValue[property] = '';\n        }\n        return ani;\n    };\n    var afterAddClass = function (className) {\n        afterAddClasses = addClassToArray(afterAddClasses, className);\n        return ani;\n    };\n    var afterRemoveClass = function (className) {\n        afterRemoveClasses = addClassToArray(afterRemoveClasses, className);\n        return ani;\n    };\n    var afterStyles = function (styles) {\n        if (styles === void 0) { styles = {}; }\n        afterStylesValue = styles;\n        return ani;\n    };\n    var afterClearStyles = function (propertyNames) {\n        if (propertyNames === void 0) { propertyNames = []; }\n        for (var _i = 0, propertyNames_2 = propertyNames; _i < propertyNames_2.length; _i++) {\n            var property = propertyNames_2[_i];\n            afterStylesValue[property] = '';\n        }\n        return ani;\n    };\n    var getFill = function () {\n        if (_fill !== undefined) {\n            return _fill;\n        }\n        if (parentAnimation) {\n            return parentAnimation.getFill();\n        }\n        return 'both';\n    };\n    var getDirection = function () {\n        if (forceDirectionValue !== undefined) {\n            return forceDirectionValue;\n        }\n        if (_direction !== undefined) {\n            return _direction;\n        }\n        if (parentAnimation) {\n            return parentAnimation.getDirection();\n        }\n        return 'normal';\n    };\n    var getEasing = function () {\n        if (shouldForceLinearEasing) {\n            return 'linear';\n        }\n        if (_easing !== undefined) {\n            return _easing;\n        }\n        if (parentAnimation) {\n            return parentAnimation.getEasing();\n        }\n        return 'linear';\n    };\n    var getDuration = function () {\n        if (shouldForceSyncPlayback) {\n            return 0;\n        }\n        if (forceDurationValue !== undefined) {\n            return forceDurationValue;\n        }\n        if (_duration !== undefined) {\n            return _duration;\n        }\n        if (parentAnimation) {\n            return parentAnimation.getDuration();\n        }\n        return 0;\n    };\n    var getIterations = function () {\n        if (_iterations !== undefined) {\n            return _iterations;\n        }\n        if (parentAnimation) {\n            return parentAnimation.getIterations();\n        }\n        return 1;\n    };\n    var getDelay = function () {\n        if (forceDelayValue !== undefined) {\n            return forceDelayValue;\n        }\n        if (_delay !== undefined) {\n            return _delay;\n        }\n        if (parentAnimation) {\n            return parentAnimation.getDelay();\n        }\n        return 0;\n    };\n    var getKeyframes = function () {\n        return _keyframes;\n    };\n    var direction = function (animationDirection) {\n        _direction = animationDirection;\n        update(true);\n        return ani;\n    };\n    var fill = function (animationFill) {\n        _fill = animationFill;\n        update(true);\n        return ani;\n    };\n    var delay = function (animationDelay) {\n        _delay = animationDelay;\n        update(true);\n        return ani;\n    };\n    var easing = function (animationEasing) {\n        _easing = animationEasing;\n        update(true);\n        return ani;\n    };\n    var duration = function (animationDuration) {\n        /**\n         * CSS Animation Durations of 0ms work fine on Chrome\n         * but do not run on Safari, so force it to 1ms to\n         * get it to run on both platforms.\n         */\n        if (!supportsWebAnimations && animationDuration === 0) {\n            animationDuration = 1;\n        }\n        _duration = animationDuration;\n        update(true);\n        return ani;\n    };\n    var iterations = function (animationIterations) {\n        _iterations = animationIterations;\n        update(true);\n        return ani;\n    };\n    var parent = function (animation) {\n        parentAnimation = animation;\n        return ani;\n    };\n    var addElement = function (el) {\n        if (el != null) {\n            if (el.nodeType === 1) {\n                elements.push(el);\n            }\n            else if (el.length >= 0) {\n                for (var i = 0; i < el.length; i++) {\n                    elements.push(el[i]);\n                }\n            }\n            else {\n                console.error('Invalid addElement value');\n            }\n        }\n        return ani;\n    };\n    var addAnimation = function (animationToAdd) {\n        if (animationToAdd != null) {\n            if (Array.isArray(animationToAdd)) {\n                for (var _i = 0, animationToAdd_1 = animationToAdd; _i < animationToAdd_1.length; _i++) {\n                    var animation = animationToAdd_1[_i];\n                    animation.parent(ani);\n                    childAnimations.push(animation);\n                }\n            }\n            else {\n                animationToAdd.parent(ani);\n                childAnimations.push(animationToAdd);\n            }\n        }\n        return ani;\n    };\n    var keyframes = function (keyframeValues) {\n        _keyframes = keyframeValues;\n        return ani;\n    };\n    /**\n     * Run all \"before\" animation hooks.\n     */\n    var beforeAnimation = function () {\n        // Runs all before read callbacks\n        _beforeAddReadFunctions.forEach(function (callback) { return callback(); });\n        // Runs all before write callbacks\n        _beforeAddWriteFunctions.forEach(function (callback) { return callback(); });\n        // Updates styles and classes before animation runs\n        var addClasses = beforeAddClasses;\n        var removeClasses = beforeRemoveClasses;\n        var styles = beforeStylesValue;\n        elements.forEach(function (el) {\n            var elementClassList = el.classList;\n            addClasses.forEach(function (c) { return elementClassList.add(c); });\n            removeClasses.forEach(function (c) { return elementClassList.remove(c); });\n            for (var property in styles) {\n                if (styles.hasOwnProperty(property)) {\n                    setStyleProperty(el, property, styles[property]);\n                }\n            }\n        });\n    };\n    /**\n     * Run all \"after\" animation hooks.\n     */\n    var afterAnimation = function () {\n        clearCSSAnimationsTimeout();\n        // Runs all after read callbacks\n        _afterAddReadFunctions.forEach(function (callback) { return callback(); });\n        // Runs all after write callbacks\n        _afterAddWriteFunctions.forEach(function (callback) { return callback(); });\n        // Updates styles and classes before animation ends\n        var currentStep = willComplete ? 1 : 0;\n        var addClasses = afterAddClasses;\n        var removeClasses = afterRemoveClasses;\n        var styles = afterStylesValue;\n        elements.forEach(function (el) {\n            var elementClassList = el.classList;\n            addClasses.forEach(function (c) { return elementClassList.add(c); });\n            removeClasses.forEach(function (c) { return elementClassList.remove(c); });\n            for (var property in styles) {\n                if (styles.hasOwnProperty(property)) {\n                    setStyleProperty(el, property, styles[property]);\n                }\n            }\n        });\n        onFinishCallbacks.forEach(function (onFinishCallback) {\n            return onFinishCallback.c(currentStep, ani);\n        });\n        onFinishOneTimeCallbacks.forEach(function (onFinishCallback) {\n            return onFinishCallback.c(currentStep, ani);\n        });\n        onFinishOneTimeCallbacks.length = 0;\n        shouldCalculateNumAnimations = true;\n        if (willComplete) {\n            finished = true;\n        }\n        willComplete = true;\n    };\n    var animationFinish = function () {\n        if (numAnimationsRunning === 0) {\n            return;\n        }\n        numAnimationsRunning--;\n        if (numAnimationsRunning === 0) {\n            afterAnimation();\n            if (parentAnimation) {\n                parentAnimation.animationFinish();\n            }\n        }\n    };\n    var initializeCSSAnimation = function (toggleAnimationName) {\n        if (toggleAnimationName === void 0) { toggleAnimationName = true; }\n        cleanUpStyleSheets();\n        var processedKeyframes = processKeyframes(_keyframes);\n        elements.forEach(function (element) {\n            if (processedKeyframes.length > 0) {\n                var keyframeRules = generateKeyframeRules(processedKeyframes);\n                keyframeName = (animationId !== undefined) ? animationId : generateKeyframeName(keyframeRules);\n                var stylesheet_1 = createKeyframeStylesheet(keyframeName, keyframeRules, element);\n                stylesheets.push(stylesheet_1);\n                setStyleProperty(element, 'animation-duration', getDuration() + \"ms\");\n                setStyleProperty(element, 'animation-timing-function', getEasing());\n                setStyleProperty(element, 'animation-delay', getDelay() + \"ms\");\n                setStyleProperty(element, 'animation-fill-mode', getFill());\n                setStyleProperty(element, 'animation-direction', getDirection());\n                var iterationsCount = (getIterations() === Infinity)\n                    ? 'infinite'\n                    : getIterations().toString();\n                setStyleProperty(element, 'animation-iteration-count', iterationsCount);\n                setStyleProperty(element, 'animation-play-state', 'paused');\n                if (toggleAnimationName) {\n                    setStyleProperty(element, 'animation-name', stylesheet_1.id + \"-alt\");\n                }\n                raf(function () {\n                    setStyleProperty(element, 'animation-name', stylesheet_1.id || null);\n                });\n            }\n        });\n    };\n    var initializeWebAnimation = function () {\n        elements.forEach(function (element) {\n            var animation = element.animate(_keyframes, {\n                id: id,\n                delay: getDelay(),\n                duration: getDuration(),\n                easing: getEasing(),\n                iterations: getIterations(),\n                fill: getFill(),\n                direction: getDirection()\n            });\n            animation.pause();\n            webAnimations.push(animation);\n        });\n        if (webAnimations.length > 0) {\n            webAnimations[0].onfinish = function () {\n                animationFinish();\n            };\n        }\n    };\n    var initializeAnimation = function (toggleAnimationName) {\n        if (toggleAnimationName === void 0) { toggleAnimationName = true; }\n        beforeAnimation();\n        if (_keyframes.length > 0) {\n            if (supportsWebAnimations) {\n                initializeWebAnimation();\n            }\n            else {\n                initializeCSSAnimation(toggleAnimationName);\n            }\n        }\n        initialized = true;\n    };\n    var setAnimationStep = function (step) {\n        step = Math.min(Math.max(step, 0), 0.9999);\n        if (supportsWebAnimations) {\n            webAnimations.forEach(function (animation) {\n                animation.currentTime = animation.effect.getComputedTiming().delay + (getDuration() * step);\n                animation.pause();\n            });\n        }\n        else {\n            var animationDuration_1 = \"-\" + getDuration() * step + \"ms\";\n            elements.forEach(function (element) {\n                if (_keyframes.length > 0) {\n                    setStyleProperty(element, 'animation-delay', animationDuration_1);\n                    setStyleProperty(element, 'animation-play-state', 'paused');\n                }\n            });\n        }\n    };\n    var updateWebAnimation = function (step) {\n        webAnimations.forEach(function (animation) {\n            animation.effect.updateTiming({\n                delay: getDelay(),\n                duration: getDuration(),\n                easing: getEasing(),\n                iterations: getIterations(),\n                fill: getFill(),\n                direction: getDirection()\n            });\n        });\n        if (step !== undefined) {\n            setAnimationStep(step);\n        }\n    };\n    var updateCSSAnimation = function (toggleAnimationName, step) {\n        if (toggleAnimationName === void 0) { toggleAnimationName = true; }\n        raf(function () {\n            elements.forEach(function (element) {\n                setStyleProperty(element, 'animation-name', keyframeName || null);\n                setStyleProperty(element, 'animation-duration', getDuration() + \"ms\");\n                setStyleProperty(element, 'animation-timing-function', getEasing());\n                setStyleProperty(element, 'animation-delay', (step !== undefined) ? \"-\" + step * getDuration() + \"ms\" : getDelay() + \"ms\");\n                setStyleProperty(element, 'animation-fill-mode', getFill() || null);\n                setStyleProperty(element, 'animation-direction', getDirection() || null);\n                var iterationsCount = (getIterations() === Infinity)\n                    ? 'infinite'\n                    : getIterations().toString();\n                setStyleProperty(element, 'animation-iteration-count', iterationsCount);\n                if (toggleAnimationName) {\n                    setStyleProperty(element, 'animation-name', keyframeName + \"-alt\");\n                }\n                raf(function () {\n                    setStyleProperty(element, 'animation-name', keyframeName || null);\n                });\n            });\n        });\n    };\n    var update = function (deep, toggleAnimationName, step) {\n        if (deep === void 0) { deep = false; }\n        if (toggleAnimationName === void 0) { toggleAnimationName = true; }\n        if (deep) {\n            childAnimations.forEach(function (animation) {\n                animation.update(deep, toggleAnimationName, step);\n            });\n        }\n        if (supportsWebAnimations) {\n            updateWebAnimation(step);\n        }\n        else {\n            updateCSSAnimation(toggleAnimationName, step);\n        }\n        return ani;\n    };\n    var progressStart = function (forceLinearEasing, step) {\n        if (forceLinearEasing === void 0) { forceLinearEasing = false; }\n        childAnimations.forEach(function (animation) {\n            animation.progressStart(forceLinearEasing, step);\n        });\n        pauseAnimation();\n        shouldForceLinearEasing = forceLinearEasing;\n        if (!initialized) {\n            initializeAnimation();\n        }\n        else {\n            update(false, true, step);\n        }\n        return ani;\n    };\n    var progressStep = function (step) {\n        childAnimations.forEach(function (animation) {\n            animation.progressStep(step);\n        });\n        setAnimationStep(step);\n        return ani;\n    };\n    var progressEnd = function (playTo, step, dur) {\n        shouldForceLinearEasing = false;\n        childAnimations.forEach(function (animation) {\n            animation.progressEnd(playTo, step, dur);\n        });\n        if (dur !== undefined) {\n            forceDurationValue = dur;\n        }\n        finished = false;\n        // tslint:disable-next-line: strict-boolean-conditions\n        willComplete = true;\n        if (playTo === 0) {\n            forceDirectionValue = (getDirection() === 'reverse') ? 'normal' : 'reverse';\n            if (forceDirectionValue === 'reverse') {\n                willComplete = false;\n            }\n            if (supportsWebAnimations) {\n                update();\n                setAnimationStep(1 - step);\n            }\n            else {\n                forceDelayValue = ((1 - step) * getDuration()) * -1;\n                update(false, false);\n            }\n        }\n        else if (playTo === 1) {\n            if (supportsWebAnimations) {\n                update();\n                setAnimationStep(step);\n            }\n            else {\n                forceDelayValue = (step * getDuration()) * -1;\n                update(false, false);\n            }\n        }\n        if (playTo !== undefined) {\n            onFinish(function () {\n                forceDurationValue = undefined;\n                forceDirectionValue = undefined;\n                forceDelayValue = undefined;\n            }, {\n                oneTimeCallback: true\n            });\n            if (!parentAnimation) {\n                play();\n            }\n        }\n        return ani;\n    };\n    var pauseAnimation = function () {\n        if (initialized) {\n            if (supportsWebAnimations) {\n                webAnimations.forEach(function (animation) {\n                    animation.pause();\n                });\n            }\n            else {\n                elements.forEach(function (element) {\n                    setStyleProperty(element, 'animation-play-state', 'paused');\n                });\n            }\n        }\n    };\n    var pause = function () {\n        childAnimations.forEach(function (animation) {\n            animation.pause();\n        });\n        pauseAnimation();\n        return ani;\n    };\n    var onAnimationEndFallback = function () {\n        cssAnimationsTimerFallback = undefined;\n        animationFinish();\n    };\n    var clearCSSAnimationsTimeout = function () {\n        if (cssAnimationsTimerFallback) {\n            clearTimeout(cssAnimationsTimerFallback);\n        }\n    };\n    var playCSSAnimations = function () {\n        clearCSSAnimationsTimeout();\n        raf(function () {\n            elements.forEach(function (element) {\n                if (_keyframes.length > 0) {\n                    setStyleProperty(element, 'animation-play-state', 'running');\n                }\n            });\n        });\n        if (_keyframes.length === 0 || elements.length === 0) {\n            animationFinish();\n        }\n        else {\n            /**\n             * This is a catchall in the event that a CSS Animation did not finish.\n             * The Web Animations API has mechanisms in place for preventing this.\n             * CSS Animations will not fire an `animationend` event\n             * for elements with `display: none`. The Web Animations API\n             * accounts for this, but using raw CSS Animations requires\n             * this workaround.\n             */\n            var animationDelay = getDelay() || 0;\n            var animationDuration = getDuration() || 0;\n            var animationIterations = getIterations() || 1;\n            // No need to set a timeout when animation has infinite iterations\n            if (isFinite(animationIterations)) {\n                cssAnimationsTimerFallback = setTimeout(onAnimationEndFallback, animationDelay + (animationDuration * animationIterations) + ANIMATION_END_FALLBACK_PADDING_MS);\n            }\n            animationEnd(elements[0], function () {\n                clearCSSAnimationsTimeout();\n                /**\n                 * Ensure that clean up\n                 * is always done a frame\n                 * before the onFinish handlers\n                 * are fired. Otherwise, there\n                 * may be flickering if a new\n                 * animation is started on the same\n                 * element too quickly\n                 *\n                 * TODO: Is there a cleaner way to do this?\n                 */\n                raf(function () {\n                    clearCSSAnimationPlayState();\n                    raf(animationFinish);\n                });\n            });\n        }\n    };\n    var clearCSSAnimationPlayState = function () {\n        elements.forEach(function (element) {\n            removeStyleProperty(element, 'animation-duration');\n            removeStyleProperty(element, 'animation-delay');\n            removeStyleProperty(element, 'animation-play-state');\n        });\n    };\n    var playWebAnimations = function () {\n        webAnimations.forEach(function (animation) {\n            animation.play();\n        });\n        if (_keyframes.length === 0 || elements.length === 0) {\n            animationFinish();\n        }\n    };\n    var resetAnimation = function () {\n        if (supportsWebAnimations) {\n            setAnimationStep(0);\n            updateWebAnimation();\n        }\n        else {\n            updateCSSAnimation();\n        }\n    };\n    var play = function (opts) {\n        return new Promise(function (resolve) {\n            if (opts && opts.sync) {\n                shouldForceSyncPlayback = true;\n                onFinish(function () { return shouldForceSyncPlayback = false; }, { oneTimeCallback: true });\n            }\n            if (!initialized) {\n                initializeAnimation();\n            }\n            if (finished) {\n                resetAnimation();\n                finished = false;\n            }\n            if (shouldCalculateNumAnimations) {\n                numAnimationsRunning = childAnimations.length + 1;\n                shouldCalculateNumAnimations = false;\n            }\n            onFinish(function () { return resolve(); }, { oneTimeCallback: true });\n            childAnimations.forEach(function (animation) {\n                animation.play();\n            });\n            if (supportsWebAnimations) {\n                playWebAnimations();\n            }\n            else {\n                playCSSAnimations();\n            }\n        });\n    };\n    var stop = function () {\n        childAnimations.forEach(function (animation) {\n            animation.stop();\n        });\n        if (initialized) {\n            cleanUpElements();\n            initialized = false;\n        }\n        resetFlags();\n    };\n    var from = function (property, value) {\n        var _a;\n        var firstFrame = _keyframes[0];\n        if (firstFrame !== undefined && (firstFrame.offset === undefined || firstFrame.offset === 0)) {\n            firstFrame[property] = value;\n        }\n        else {\n            _keyframes = __spreadArrays([\n                (_a = { offset: 0 }, _a[property] = value, _a)\n            ], _keyframes);\n        }\n        return ani;\n    };\n    var to = function (property, value) {\n        var _a;\n        var lastFrame = _keyframes[_keyframes.length - 1];\n        if (lastFrame !== undefined && (lastFrame.offset === undefined || lastFrame.offset === 1)) {\n            lastFrame[property] = value;\n        }\n        else {\n            _keyframes = __spreadArrays(_keyframes, [\n                (_a = { offset: 1 }, _a[property] = value, _a)\n            ]);\n        }\n        return ani;\n    };\n    var fromTo = function (property, fromValue, toValue) {\n        return from(property, fromValue).to(property, toValue);\n    };\n    return ani = {\n        parentAnimation: parentAnimation,\n        elements: elements,\n        childAnimations: childAnimations,\n        id: id,\n        animationFinish: animationFinish,\n        from: from,\n        to: to,\n        fromTo: fromTo,\n        parent: parent,\n        play: play,\n        pause: pause,\n        stop: stop,\n        destroy: destroy,\n        keyframes: keyframes,\n        addAnimation: addAnimation,\n        addElement: addElement,\n        update: update,\n        fill: fill,\n        direction: direction,\n        iterations: iterations,\n        duration: duration,\n        easing: easing,\n        delay: delay,\n        getWebAnimations: getWebAnimations,\n        getKeyframes: getKeyframes,\n        getFill: getFill,\n        getDirection: getDirection,\n        getDelay: getDelay,\n        getIterations: getIterations,\n        getEasing: getEasing,\n        getDuration: getDuration,\n        afterAddRead: afterAddRead,\n        afterAddWrite: afterAddWrite,\n        afterClearStyles: afterClearStyles,\n        afterStyles: afterStyles,\n        afterRemoveClass: afterRemoveClass,\n        afterAddClass: afterAddClass,\n        beforeAddRead: beforeAddRead,\n        beforeAddWrite: beforeAddWrite,\n        beforeClearStyles: beforeClearStyles,\n        beforeStyles: beforeStyles,\n        beforeRemoveClass: beforeRemoveClass,\n        beforeAddClass: beforeAddClass,\n        onFinish: onFinish,\n        progressStart: progressStart,\n        progressStep: progressStep,\n        progressEnd: progressEnd\n    };\n};\nexport { createAnimation as c };\n"],"sourceRoot":""}